import{u as g,r as n,j as e,Z as b,B as j}from"./index-C6CvHDG0.js";import{a as N}from"./client-BPQvj84Y.js";import{S as y}from"./search-DsstUW0V.js";import{C as w}from"./circle-alert-CQ0yiEZR.js";import{L as v}from"./loader-circle-Cu5muWLC.js";import{C}from"./circle-check-C_ZTPfFs.js";import{M as k}from"./map-pin-CxL4fQKA.js";import{P as A}from"./phone-EElV6Fq9.js";import{G as B}from"./globe-Coycg78C.js";import{S as F}from"./star-CHzpK1y3.js";import{A as S}from"./arrow-right-BnH9bNIl.js";const _="https://www.google.com/maps/place/Your+Business+Name";function Z(){const c=g(),[i,d]=n.useState(""),[l,x]=n.useState(!1),[m,r]=n.useState(""),[s,o]=n.useState(null),u=async()=>{const t=i.trim();if(!t){r("Please enter a Google Business Profile URL or your business name");return}x(!0),r(""),o(null);try{const a=await N.gmbLookup(t);a.success&&a.business?o(a.business):r(a.error||"Could not find your business. Try a different URL or skip to set up manually.")}catch(a){r(a.message||"Something went wrong. Please try again or skip to set up manually.")}finally{x(!1)}},p=()=>{localStorage.setItem("ll_gmb_data",JSON.stringify(s)),s.trade_type&&s.trade_type!=="other"&&localStorage.setItem("ll_trade_type",s.trade_type),s.business_name&&localStorage.setItem("ll_business",s.business_name),s.phone&&localStorage.setItem("ll_owner_phone",s.phone),c("/onboarding")},h=()=>{c("/onboarding")},f=t=>{t.key==="Enter"&&!l&&u()};return e.jsxs("div",{className:"landing-dark min-h-screen flex items-center justify-center p-4 relative overflow-hidden",children:[e.jsx("div",{className:"absolute top-[-20%] right-[-10%] w-[600px] h-[600px] rounded-full bg-orange-500/[0.04] blur-3xl"}),e.jsx("div",{className:"absolute bottom-[-15%] left-[-10%] w-[500px] h-[500px] rounded-full bg-orange-500/[0.03] blur-3xl"}),e.jsxs("div",{className:"w-full max-w-[540px] relative z-10",children:[e.jsxs("div",{className:"flex items-center justify-center gap-3 mb-8",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl flex items-center justify-center bg-gradient-to-br from-orange-500 to-orange-600 shadow-lg shadow-orange-500/25",children:e.jsx(b,{className:"w-5 h-5 text-white",strokeWidth:2.5})}),e.jsxs("span",{className:"text-2xl font-bold tracking-tight text-[#F8F8FC]",children:["Lead",e.jsx("span",{className:"text-orange-500",children:"Lock"})]})]}),e.jsx("div",{className:"ld-card p-8",children:s?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsx(C,{className:"w-10 h-10 text-emerald-400 mx-auto mb-3"}),e.jsx("h2",{className:"text-xl font-bold text-[#F8F8FC] mb-1",children:"We found your business"}),e.jsx("p",{className:"text-sm text-[#A1A1BC]",children:"Does this look right?"})]}),e.jsxs("div",{className:"p-5 rounded-xl bg-[#111118] border border-[#222230] space-y-3",children:[e.jsx("h3",{className:"text-lg font-bold text-[#F8F8FC]",children:s.business_name}),s.trade_type&&s.trade_type!=="other"&&e.jsx("span",{className:"inline-block px-2.5 py-0.5 rounded-full bg-orange-500/15 text-xs font-semibold uppercase tracking-wide text-orange-400",children:s.trade_type}),e.jsxs("div",{className:"space-y-2 text-sm",children:[s.address&&e.jsxs("div",{className:"flex items-start gap-2 text-[#A1A1BC]",children:[e.jsx(k,{className:"w-4 h-4 flex-shrink-0 mt-0.5 text-[#52526B]"}),e.jsx("span",{children:s.address})]}),s.phone&&e.jsxs("div",{className:"flex items-center gap-2 text-[#A1A1BC]",children:[e.jsx(A,{className:"w-4 h-4 flex-shrink-0 text-[#52526B]"}),e.jsx("span",{children:s.phone})]}),s.website&&e.jsxs("div",{className:"flex items-center gap-2 text-[#A1A1BC]",children:[e.jsx(B,{className:"w-4 h-4 flex-shrink-0 text-[#52526B]"}),e.jsx("span",{className:"truncate",children:s.website})]}),s.rating!=null&&e.jsxs("div",{className:"flex items-center gap-2 text-[#A1A1BC]",children:[e.jsx(F,{className:"w-4 h-4 flex-shrink-0 text-amber-400"}),e.jsxs("span",{children:[s.rating," rating",s.reviews!=null&&e.jsxs("span",{className:"text-[#52526B]",children:[" (",s.reviews," reviews)"]})]})]})]})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{onClick:()=>{o(null),d("")},className:"flex-1 py-3 rounded-xl text-sm font-semibold bg-[#1A1A24] border border-[#222230] text-[#A1A1BC] hover:border-[#333340] hover:text-[#F8F8FC] transition-all cursor-pointer",children:"Not my business"}),e.jsxs("button",{onClick:p,className:"flex-1 py-3 rounded-xl text-sm font-bold ld-btn-primary flex items-center justify-center gap-2",children:["Looks right ",e.jsx(S,{className:"w-4 h-4"})]})]})]}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("h2",{className:"text-xl font-bold text-[#F8F8FC] mb-2",children:"Set up your account in seconds"}),e.jsx("p",{className:"text-sm text-[#A1A1BC]",children:"Paste your Google Business Profile URL and we'll fill everything in."})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"relative",children:[e.jsx(y,{className:"absolute left-3.5 top-1/2 -translate-y-1/2 w-4 h-4 text-[#52526B]"}),e.jsx("input",{type:"text",value:i,onChange:t=>{d(t.target.value),r("")},onKeyDown:f,className:"w-full px-4 py-3.5 rounded-xl text-sm text-[#F8F8FC] bg-[#1A1A24] border border-[#222230] outline-none transition-all placeholder:text-[#52526B] focus:border-orange-500 focus:ring-2 focus:ring-orange-500/20 pl-10",placeholder:_,autoFocus:!0,disabled:l})]}),e.jsx("p",{className:"text-xs text-[#52526B] mt-2",children:"Or just type your business name — we'll search for it."})]}),m&&e.jsxs("div",{className:"flex items-start gap-2.5 px-4 py-3 rounded-xl bg-red-500/10 border border-red-500/20 text-sm text-red-400",children:[e.jsx(w,{className:"w-4 h-4 flex-shrink-0 mt-0.5"}),e.jsx("span",{children:m})]}),e.jsx("button",{onClick:u,disabled:l||!i.trim(),className:"w-full py-3.5 rounded-xl text-sm font-bold ld-btn-primary flex items-center justify-center gap-2 disabled:opacity-40 disabled:cursor-not-allowed",children:l?e.jsxs(e.Fragment,{children:[e.jsx(v,{className:"w-4 h-4 animate-spin"})," Finding your business..."]}):e.jsxs(e.Fragment,{children:[e.jsx(j,{className:"w-4 h-4"})," Set Up My Account"]})})]})}),e.jsx("button",{onClick:h,className:"block mx-auto mt-6 text-xs text-[#52526B] hover:text-[#A1A1BC] transition-colors cursor-pointer",children:"Skip — I'll set up manually"})]})]})}export{Z as default};
