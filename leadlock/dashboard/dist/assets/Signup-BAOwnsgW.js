import{u as w,r as c,j as e,Z as _,l as m}from"./index-C6CvHDG0.js";import{S as v}from"./SEO-B8tzRl9C.js";import{C as y}from"./circle-alert-CQ0yiEZR.js";import{A as N}from"./arrow-right-BnH9bNIl.js";const k=["HVAC","Plumbing","Electrical","Roofing","Solar","General Contractor","Landscaping","Pest Control","Other"];function l({message:t}){return t?e.jsx("p",{className:"text-xs text-red-400 mt-1",children:t}):null}function E(){w();const[t,b]=c.useState({business_name:"",name:"",email:"",phone:"",trade_type:"",password:"",password_confirm:"",tos_accepted:!1}),[p,u]=c.useState(""),[a,x]=c.useState({}),[h,g]=c.useState(!1),o=(s,r)=>{b(n=>({...n,[s]:r})),a[s]&&x(n=>{const d={...n};return delete d[s],d})},f=()=>{const s={};return t.business_name.trim()||(s.business_name="Business name is required"),t.name.trim()||(s.name="Your name is required"),t.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t.email)||(s.email="Enter a valid email address"):s.email="Email is required",t.phone.trim()||(s.phone="Phone is required"),t.trade_type||(s.trade_type="Select your trade"),t.password.length<8&&(s.password="Password must be at least 8 characters"),t.password!==t.password_confirm&&(s.password_confirm="Passwords do not match"),t.tos_accepted||(s.tos_accepted="You must accept the Terms of Service"),x(s),Object.keys(s).length===0},j=async s=>{if(s.preventDefault(),u(""),!!f()){g(!0);try{const r=await fetch("/api/v1/auth/signup",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({business_name:t.business_name,name:t.name,email:t.email,phone:t.phone,trade_type:t.trade_type,password:t.password,tos_accepted:t.tos_accepted})});if(!r.ok){const d=await r.json().catch(()=>({detail:"Signup failed"}));throw new Error(d.detail||`HTTP ${r.status}`)}const n=await r.json();localStorage.setItem("ll_token",n.token),localStorage.setItem("ll_business",n.business_name),localStorage.setItem("ll_is_admin",n.is_admin?"true":"false"),localStorage.setItem("ll_client_id",n.client_id),localStorage.setItem("ll_trade_type",t.trade_type),localStorage.setItem("ll_onboarding_status",n.onboarding_status||"pending"),localStorage.setItem("ll_owner_phone",t.phone),window.location.href="/quick-setup"}catch(r){u(r.message||"Something went wrong. Please try again.")}finally{g(!1)}}},i=s=>{const r="w-full px-4 py-3 rounded-xl text-sm text-[#F8F8FC] bg-[#1A1A24] border outline-none transition-all placeholder:text-[#52526B] focus:ring-2";return a[s]?`${r} border-red-500/50 focus:border-red-500 focus:ring-red-500/20`:`${r} border-[#222230] focus:border-orange-500 focus:ring-orange-500/20`};return e.jsxs("div",{className:"landing-dark min-h-screen flex items-center justify-center p-4 relative overflow-hidden",children:[e.jsx(v,{title:"Get Started",description:"Create your LeadLock account and start responding to every lead in under 60 seconds. Set up takes 2 minutes.",path:"/signup"}),e.jsx("div",{className:"absolute top-[-20%] right-[-10%] w-[600px] h-[600px] rounded-full bg-orange-500/[0.04] blur-3xl"}),e.jsx("div",{className:"absolute bottom-[-15%] left-[-10%] w-[500px] h-[500px] rounded-full bg-blue-500/[0.03] blur-3xl"}),e.jsxs("div",{className:"w-full max-w-[480px] relative z-10",children:[e.jsxs("div",{className:"flex items-center justify-center gap-3 mb-8",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl flex items-center justify-center bg-gradient-to-br from-orange-500 to-orange-600 shadow-lg shadow-orange-500/25",children:e.jsx(_,{className:"w-5 h-5 text-white",strokeWidth:2.5})}),e.jsxs("span",{className:"text-2xl font-bold tracking-tight text-[#F8F8FC]",children:["Lead",e.jsx("span",{className:"text-orange-500",children:"Lock"})]})]}),e.jsxs("div",{className:"ld-card p-8",children:[e.jsx("h2",{className:"text-xl font-bold text-center mb-1 text-[#F8F8FC]",children:"Get started with LeadLock"}),e.jsx("p",{className:"text-sm text-center mb-8 text-[#52526B]",children:"Set up your account in 2 minutes."}),p&&e.jsxs("div",{className:"mb-5 px-4 py-3 rounded-xl flex items-center gap-2.5 text-sm bg-red-500/10 border border-red-500/20 text-red-400",children:[e.jsx(y,{className:"w-4 h-4 flex-shrink-0"}),p]}),e.jsxs("form",{onSubmit:j,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"signup-business",className:"block text-xs font-semibold uppercase tracking-wider mb-2 text-[#52526B]",children:"Business Name"}),e.jsx("input",{id:"signup-business",type:"text",value:t.business_name,onChange:s=>o("business_name",s.target.value),className:i("business_name"),placeholder:"Apex HVAC Solutions"}),e.jsx(l,{message:a.business_name})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"signup-name",className:"block text-xs font-semibold uppercase tracking-wider mb-2 text-[#52526B]",children:"Your Name"}),e.jsx("input",{id:"signup-name",type:"text",value:t.name,onChange:s=>o("name",s.target.value),className:i("name"),placeholder:"John Smith"}),e.jsx(l,{message:a.name})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"signup-trade",className:"block text-xs font-semibold uppercase tracking-wider mb-2 text-[#52526B]",children:"Trade Type"}),e.jsxs("select",{id:"signup-trade",value:t.trade_type,onChange:s=>o("trade_type",s.target.value),className:`${i("trade_type")} appearance-none`,children:[e.jsx("option",{value:"",disabled:!0,children:"Select trade"}),k.map(s=>e.jsx("option",{value:s.toLowerCase(),children:s},s))]}),e.jsx(l,{message:a.trade_type})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"signup-email",className:"block text-xs font-semibold uppercase tracking-wider mb-2 text-[#52526B]",children:"Email"}),e.jsx("input",{id:"signup-email",type:"email",value:t.email,onChange:s=>o("email",s.target.value),className:i("email"),placeholder:"john@apexhvac.com"}),e.jsx(l,{message:a.email})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"signup-phone",className:"block text-xs font-semibold uppercase tracking-wider mb-2 text-[#52526B]",children:"Phone"}),e.jsx("input",{id:"signup-phone",type:"tel",value:t.phone,onChange:s=>o("phone",s.target.value),className:i("phone"),placeholder:"(555) 123-4567"}),e.jsx(l,{message:a.phone})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"signup-password",className:"block text-xs font-semibold uppercase tracking-wider mb-2 text-[#52526B]",children:"Password"}),e.jsx("input",{id:"signup-password",type:"password",value:t.password,onChange:s=>o("password",s.target.value),className:i("password"),placeholder:"•".repeat(10)}),e.jsx(l,{message:a.password})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"signup-password-confirm",className:"block text-xs font-semibold uppercase tracking-wider mb-2 text-[#52526B]",children:"Confirm Password"}),e.jsx("input",{id:"signup-password-confirm",type:"password",value:t.password_confirm,onChange:s=>o("password_confirm",s.target.value),className:i("password_confirm"),placeholder:"•".repeat(10)}),e.jsx(l,{message:a.password_confirm})]}),e.jsxs("div",{children:[e.jsxs("label",{className:`flex items-start gap-3 cursor-pointer ${a.tos_accepted,""}`,children:[e.jsx("input",{type:"checkbox",checked:t.tos_accepted,onChange:s=>o("tos_accepted",s.target.checked),className:"w-4 h-4 mt-0.5 rounded border-[#222230] bg-[#1A1A24] text-orange-500 focus:ring-orange-500/20"}),e.jsxs("span",{className:"text-sm text-[#A1A1BC]",children:["I agree to the"," ",e.jsx(m,{to:"/terms",className:"text-orange-400 hover:text-orange-300 underline",target:"_blank",children:"Terms of Service"})," ","and"," ",e.jsx(m,{to:"/privacy",className:"text-orange-400 hover:text-orange-300 underline",target:"_blank",children:"Privacy Policy"})]})]}),e.jsx(l,{message:a.tos_accepted})]}),e.jsx("button",{type:"submit",disabled:h,className:"w-full py-3.5 rounded-xl text-sm font-semibold ld-btn-primary flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:h?e.jsxs("span",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin"}),"Creating account..."]}):e.jsxs(e.Fragment,{children:["Create Account ",e.jsx(N,{className:"w-4 h-4"})]})})]})]}),e.jsxs("p",{className:"text-center text-sm mt-6 text-[#52526B]",children:["Already have an account?"," ",e.jsx(m,{to:"/login",className:"text-orange-400 hover:text-orange-300 font-medium transition-colors",children:"Sign in"})]})]})]})}export{E as default};
