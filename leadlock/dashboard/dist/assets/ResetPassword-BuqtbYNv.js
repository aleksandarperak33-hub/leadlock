import{i as j,r as t,j as e,l as m,Z as y}from"./index-C6CvHDG0.js";import{C as x}from"./circle-alert-CQ0yiEZR.js";import{C as N}from"./check-G1rlX1NV.js";import{A as v}from"./arrow-right-BnH9bNIl.js";import{L as k}from"./lock-BZ0T2Hky.js";function L(){const[h]=j(),o=h.get("token")||"",[r,u]=t.useState(""),[i,g]=t.useState(""),[l,a]=t.useState(""),[d,c]=t.useState(!1),[p,f]=t.useState(!1),b=async s=>{if(s.preventDefault(),a(""),r.length<8){a("Password must be at least 8 characters");return}if(r!==i){a("Passwords do not match");return}c(!0);try{const n=await fetch("/api/v1/auth/reset-password",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:o,password:r})}),w=await n.json();if(!n.ok)throw new Error(w.detail||"Reset failed");f(!0)}catch(n){a(n.message)}finally{c(!1)}};return o?e.jsx("div",{className:"min-h-screen flex items-center justify-center p-4 bg-[#FAFAFA]",children:e.jsxs("div",{className:"w-full max-w-[400px]",children:[e.jsxs("div",{className:"flex items-center justify-center gap-3 mb-8",children:[e.jsx("div",{className:"w-9 h-9 rounded-xl bg-orange-500 flex items-center justify-center",children:e.jsx(y,{className:"w-5 h-5 text-white",strokeWidth:2.5})}),e.jsx("span",{className:"text-xl font-semibold text-gray-900",children:"LeadLock"})]}),e.jsx("div",{className:"bg-white border border-gray-200/50 rounded-2xl p-8 shadow-card",children:p?e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-12 h-12 rounded-full bg-green-50 flex items-center justify-center mx-auto mb-4",children:e.jsx(N,{className:"w-6 h-6 text-green-500"})}),e.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Password Reset!"}),e.jsx("p",{className:"text-sm text-gray-500 mb-6",children:"Your password has been updated. You can now sign in."}),e.jsxs(m,{to:"/login",className:"inline-flex items-center gap-2 px-6 py-2.5 rounded-xl text-sm font-semibold text-white bg-orange-500 hover:bg-orange-600 transition-colors",children:["Sign In ",e.jsx(v,{className:"w-4 h-4"})]})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex items-center gap-3 mb-1",children:[e.jsx(k,{className:"w-5 h-5 text-gray-400"}),e.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Set new password"})]}),e.jsx("p",{className:"text-sm text-gray-400 mb-6",children:"Enter your new password below."}),l&&e.jsxs("div",{className:"mb-5 px-4 py-3 rounded-xl flex items-center gap-2.5 text-sm bg-red-50 border border-red-200/60 text-red-600",children:[e.jsx(x,{className:"w-4 h-4 flex-shrink-0"}),l]}),e.jsxs("form",{onSubmit:b,className:"space-y-5",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"reset-password",className:"block text-xs font-medium text-gray-500 uppercase tracking-wider mb-2",children:"New Password"}),e.jsx("input",{id:"reset-password",type:"password",value:r,onChange:s=>u(s.target.value),required:!0,minLength:8,className:"w-full px-4 py-3 rounded-xl text-sm text-gray-900 bg-white border border-gray-200 outline-none transition-all placeholder:text-gray-400 focus:border-orange-300 focus:ring-2 focus:ring-orange-100",placeholder:"•".repeat(10)})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"reset-confirm",className:"block text-xs font-medium text-gray-500 uppercase tracking-wider mb-2",children:"Confirm Password"}),e.jsx("input",{id:"reset-confirm",type:"password",value:i,onChange:s=>g(s.target.value),required:!0,minLength:8,className:"w-full px-4 py-3 rounded-xl text-sm text-gray-900 bg-white border border-gray-200 outline-none transition-all placeholder:text-gray-400 focus:border-orange-300 focus:ring-2 focus:ring-orange-100",placeholder:"•".repeat(10)})]}),e.jsx("button",{type:"submit",disabled:d,className:"w-full py-3 rounded-xl text-sm font-semibold text-white bg-orange-500 hover:bg-orange-600 transition-colors cursor-pointer disabled:opacity-50 disabled:cursor-not-allowed",children:d?e.jsxs("span",{className:"flex items-center justify-center gap-2",children:[e.jsx("span",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin"}),"Resetting..."]}):"Reset Password"})]})]})})]})}):e.jsx("div",{className:"min-h-screen flex items-center justify-center p-4 bg-[#FAFAFA]",children:e.jsx("div",{className:"w-full max-w-[400px] text-center",children:e.jsxs("div",{className:"bg-white border border-gray-200/50 rounded-2xl p-8 shadow-card",children:[e.jsx(x,{className:"w-10 h-10 text-red-400 mx-auto mb-4"}),e.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Invalid Reset Link"}),e.jsx("p",{className:"text-sm text-gray-500 mb-6",children:"This password reset link is invalid or has expired."}),e.jsx(m,{to:"/forgot-password",className:"text-sm text-orange-500 hover:text-orange-600 font-medium",children:"Request a new reset link"})]})})})}export{L as default};
