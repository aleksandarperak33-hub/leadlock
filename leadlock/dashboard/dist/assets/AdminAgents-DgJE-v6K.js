const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/SystemMap-D7ryOKrZ.js","assets/index-C6CvHDG0.js","assets/index-S352p0uU.css","assets/client-BPQvj84Y.js","assets/target-iFJKvwWf.js","assets/search-DsstUW0V.js","assets/flask-conical-CMHnCdj6.js","assets/activity-BVxI_7oA.js","assets/PageHeader-BjaxPPSz.js","assets/Tabs-DjzlUuxy.js","assets/pause-veMKD3wY.js","assets/trash-2-CBmtFmOa.js","assets/sparkles-CsJ9SWXp.js","assets/chevron-down-CVJYLub8.js","assets/generateCategoricalChart-BLJf6WDd.js","assets/AreaChart-C48c35vs.js","assets/circle-alert-CQ0yiEZR.js","assets/TaskQueueMonitor-DTP-WHfl.js","assets/DataTable-Cx3MEqq4.js","assets/chevron-up-CnMI-OlX.js","assets/Pagination-CRwjXeWQ.js","assets/Badge-GmErx7Do.js","assets/CostDashboard-B4SGeF1h.js","assets/StatCard-D4v_MXBs.js","assets/ActivityTimeline-k5mIYHac.js"])))=>i.map(i=>d[i]);
import{c as o,j as e,q as A,D as W,f as C,S as $,p as T,r as l,X as J,h as Y,_ as N}from"./index-C6CvHDG0.js";import{P as ee}from"./PageHeader-BjaxPPSz.js";import{T as te}from"./Tabs-DjzlUuxy.js";import{A as M}from"./activity-BVxI_7oA.js";import{P as ae}from"./pause-veMKD3wY.js";import{T as O}from"./trash-2-CBmtFmOa.js";import{S as R}from"./search-DsstUW0V.js";import{F as D}from"./flask-conical-CMHnCdj6.js";import{S as w}from"./sparkles-CsJ9SWXp.js";import{a as I}from"./client-BPQvj84Y.js";import{C as se}from"./chevron-down-CVJYLub8.js";import{R as re,X as le,T as ne}from"./generateCategoricalChart-BLJf6WDd.js";import{A as ie,a as oe}from"./AreaChart-C48c35vs.js";import{C as ce}from"./circle-alert-CQ0yiEZR.js";/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L=o("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E=o("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F=o("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P=o("Factory",[["path",{d:"M2 20a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V8l-7 5V8l-7 5V4a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"159hny"}],["path",{d:"M17 18h1",key:"uldtlt"}],["path",{d:"M12 18h1",key:"s9uhes"}],["path",{d:"M7 18h1",key:"1neino"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V=o("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q=o("GitBranch",[["line",{x1:"6",x2:"6",y1:"3",y2:"15",key:"17qcm7"}],["circle",{cx:"18",cy:"6",r:"3",key:"1h7g24"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M18 9a9 9 0 0 1-9 9",key:"n2h4wq"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B=o("HeartPulse",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}],["path",{d:"M3.22 12H9.5l.5-1 2 4.5 2-7 1.5 3.5h5.27",key:"1uw2ng"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const de=o("ListTodo",[["rect",{x:"3",y:"5",width:"6",height:"6",rx:"1",key:"1defrl"}],["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"M13 6h8",key:"15sg57"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 18h8",key:"oe0vm4"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const me=o("PowerOff",[["path",{d:"M18.36 6.64A9 9 0 0 1 20.77 15",key:"dxknvb"}],["path",{d:"M6.16 6.16a9 9 0 1 0 12.68 12.68",key:"1x7qb5"}],["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S=o("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z=o("RotateCw",[["path",{d:"M21 12a9 9 0 1 1-9-9c2.52 0 4.93 1 6.74 2.74L21 8",key:"1p45f6"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G=o("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H=o("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U=o("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z=o("Thermometer",[["path",{d:"M14 4v10.54a4 4 0 1 1-4 0V4a2 2 0 0 1 4 0Z",key:"17jzev"}]]),xe=[{key:"running",label:"Active",icon:M,color:"emerald",getValue:t=>t.healthy},{key:"idle",label:"Idle",icon:ae,color:"gray",getValue:t=>t.warning},{key:"error",label:"Error",icon:A,color:"red",getValue:t=>t.unhealthy},{key:"disabled",label:"Disabled",icon:me,color:"slate",getValue:t=>t.disabled??0},{key:"cost",label:"Today",icon:W,color:"blue",getValue:t=>{var a;return`$${((a=t.total_cost_today)==null?void 0:a.toFixed(3))??"0.000"}`}},{key:"tasks",label:"Today",icon:de,color:"orange",getValue:t=>`${t.total_tasks_today??0} Tasks`}],ge={emerald:"bg-emerald-50",gray:"bg-gray-50",red:"bg-red-50",blue:"bg-blue-50",orange:"bg-orange-50",slate:"bg-slate-50"},he={emerald:"text-emerald-500",gray:"text-gray-400",red:"text-red-500",blue:"text-blue-500",orange:"text-orange-500",slate:"text-slate-400"};function ue({summary:t}){return t?e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-6 gap-3 animate-fade-up",children:xe.map(({key:a,label:s,icon:c,color:i,getValue:h})=>e.jsxs("div",{className:"glass-card p-3.5 flex items-center gap-3",children:[e.jsx("div",{className:`w-8 h-8 rounded-lg ${ge[i]} flex items-center justify-center shrink-0`,children:e.jsx(c,{className:`w-4 h-4 ${he[i]}`})}),e.jsxs("div",{children:[e.jsx("div",{className:"text-lg font-semibold text-gray-900 leading-tight",children:h(t)}),e.jsx("div",{className:"text-xs text-gray-500",children:s})]})]},a))}):null}const ye={"flask-conical":D,thermometer:Z,"refresh-cw":S,factory:P,"share-2":H,search:R,gift:V,brain:E,"heart-pulse":B,mail:T,cog:G,"trash-2":O,"shield-check":U,activity:M,database:F,send:$,bell:L,"git-branch":q,"alert-triangle":A,"rotate-cw":z,shield:C},be={purple:"bg-purple-50",blue:"bg-blue-50",amber:"bg-amber-50",green:"bg-green-50",cyan:"bg-cyan-50",red:"bg-red-50",pink:"bg-pink-50",indigo:"bg-indigo-50",emerald:"bg-emerald-50",teal:"bg-teal-50",sky:"bg-sky-50",lime:"bg-lime-50",rose:"bg-rose-50",slate:"bg-slate-50",stone:"bg-stone-50",violet:"bg-violet-50",orange:"bg-orange-50",yellow:"bg-yellow-50",gray:"bg-gray-50"},pe={purple:"text-purple-500",blue:"text-blue-500",amber:"text-amber-500",green:"text-green-500",cyan:"text-cyan-500",red:"text-red-500",pink:"text-pink-500",indigo:"text-indigo-500",emerald:"text-emerald-500",teal:"text-teal-500",sky:"text-sky-500",lime:"text-lime-500",rose:"text-rose-500",slate:"text-slate-500",stone:"text-stone-500",violet:"text-violet-500",orange:"text-orange-500",yellow:"text-yellow-500",gray:"text-gray-500"},fe={purple:"border-purple-300",blue:"border-blue-300",amber:"border-amber-300",green:"border-green-300",cyan:"border-cyan-300",red:"border-red-300",pink:"border-pink-300",indigo:"border-indigo-300",emerald:"border-emerald-300",teal:"border-teal-300",sky:"border-sky-300",lime:"border-lime-300",rose:"border-rose-300",slate:"border-slate-300",stone:"border-stone-300",violet:"border-violet-300",orange:"border-orange-300",yellow:"border-yellow-300",gray:"border-gray-300"},je={running:"bg-emerald-500 animate-agent-pulse",idle:"bg-gray-300",error:"bg-red-500 animate-pulse",disabled:"bg-gray-300"};function ve(t){if(!t)return"No data";const a=(Date.now()-new Date(t).getTime())/1e3;return a<60?`${Math.round(a)}s ago`:a<3600?`${Math.round(a/60)}m ago`:a<86400?`${Math.round(a/3600)}h ago`:`${Math.round(a/86400)}d ago`}function ke({agent:t,tier:a,selected:s,onClick:c}){var x;const i=ye[t.icon]||w,h=je[t.status]||"bg-gray-300",n=t.enabled===!1,d=a==="ai";return e.jsxs("button",{type:"button",onClick:c,className:`
        glass-card p-5 text-left cursor-pointer card-hover-lift
        active:scale-[0.98] transition-all duration-150 w-full
        ${s?"border-orange-400 ring-2 ring-orange-100":""}
        ${n?"opacity-50":""}
        ${d?`border-l-4 ${fe[t.color]}`:""}
      `,children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsx("div",{className:`${d?"w-10 h-10":"w-9 h-9"} rounded-lg ${be[t.color]} flex items-center justify-center`,children:e.jsx(i,{className:`${d?"w-5 h-5":"w-4.5 h-4.5"} ${pe[t.color]}`})}),e.jsxs("div",{className:"flex items-center gap-1.5",children:[n&&e.jsx("span",{className:"text-[10px] font-medium text-gray-400 bg-gray-100 rounded-full px-2 py-0.5",children:"OFF"}),e.jsx("div",{className:`w-2.5 h-2.5 rounded-full ${h}`})]})]}),e.jsx("div",{className:`font-semibold text-gray-900 leading-tight mb-0.5 ${d?"text-base":"text-sm"}`,children:t.display_name}),e.jsx("div",{className:"text-xs text-gray-500 mb-3",children:t.schedule}),e.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500",children:[e.jsxs("span",{className:"font-mono",children:["$",((x=t.cost_today)==null?void 0:x.toFixed(3))??"0.000"]}),e.jsxs("span",{children:[t.tasks_today??0," tasks"]}),e.jsx("span",{children:n?"Disabled":ve(t.last_heartbeat)})]}),t.uses_ai&&e.jsx("div",{className:"mt-2.5",children:e.jsxs("span",{className:"inline-flex items-center gap-1 text-[10px] font-medium text-purple-600 bg-purple-50 rounded-full px-2 py-0.5",children:[e.jsx(w,{className:"w-2.5 h-2.5"})," AI"]})})]})}function Ne(){return e.jsxs("div",{className:"glass-card p-5 animate-pulse",children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsx("div",{className:"w-9 h-9 rounded-lg bg-gray-200"}),e.jsx("div",{className:"w-2.5 h-2.5 rounded-full bg-gray-200"})]}),e.jsx("div",{className:"h-4 w-28 bg-gray-200 rounded mb-1.5"}),e.jsx("div",{className:"h-3 w-20 bg-gray-100 rounded mb-4"}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{className:"h-3 w-14 bg-gray-100 rounded"}),e.jsx("div",{className:"h-3 w-16 bg-gray-100 rounded"}),e.jsx("div",{className:"h-3 w-12 bg-gray-100 rounded"})]})]})}const _e={"flask-conical":D,thermometer:Z,"refresh-cw":S,factory:P,"share-2":H,search:R,gift:V,brain:E,"heart-pulse":B,mail:T,cog:G,"trash-2":O,"shield-check":U,activity:M,database:F,send:$,bell:L,"git-branch":q,"alert-triangle":A,"rotate-cw":z,shield:C},we={purple:"text-purple-500",blue:"text-blue-500",amber:"text-amber-500",green:"text-green-500",cyan:"text-cyan-500",red:"text-red-500",pink:"text-pink-500",indigo:"text-indigo-500",emerald:"text-emerald-500",teal:"text-teal-500",sky:"text-sky-500",lime:"text-lime-500",rose:"text-rose-500",slate:"text-slate-500",stone:"text-stone-500",violet:"text-violet-500",orange:"text-orange-500",yellow:"text-yellow-500",gray:"text-gray-500"},Ae={purple:"bg-purple-50",blue:"bg-blue-50",amber:"bg-amber-50",green:"bg-green-50",cyan:"bg-cyan-50",red:"bg-red-50",pink:"bg-pink-50",indigo:"bg-indigo-50",emerald:"bg-emerald-50",teal:"bg-teal-50",sky:"bg-sky-50",lime:"bg-lime-50",rose:"bg-rose-50",slate:"bg-slate-50",stone:"bg-stone-50",violet:"bg-violet-50",orange:"bg-orange-50",yellow:"bg-yellow-50",gray:"bg-gray-50"},Me={purple:"#a855f7",blue:"#3b82f6",amber:"#f59e0b",green:"#22c55e",cyan:"#06b6d4",red:"#ef4444",pink:"#ec4899",indigo:"#6366f1",emerald:"#10b981",teal:"#14b8a6",sky:"#0ea5e9",lime:"#84cc16",rose:"#f43f5e",slate:"#64748b",stone:"#78716c",violet:"#8b5cf6",orange:"#f97316",yellow:"#eab308",gray:"#6b7280"},Se={running:"bg-emerald-100 text-emerald-700",idle:"bg-gray-100 text-gray-600",error:"bg-red-100 text-red-700"},Ce={completed:"bg-green-500",failed:"bg-red-500",pending:"bg-gray-400",processing:"bg-blue-500"};function $e(t){if(!t)return"--";const a=(Date.now()-new Date(t).getTime())/1e3;return a<60?`${Math.round(a)}s ago`:a<3600?`${Math.round(a/60)}m ago`:a<86400?`${Math.round(a/3600)}h ago`:`${Math.round(a/86400)}d ago`}function v({className:t}){return e.jsx("div",{className:`bg-gray-200 rounded animate-pulse ${t}`})}function Te({agent:t,onClose:a}){var u,y;const[s,c]=l.useState(null),[i,h]=l.useState(!0),[n,d]=l.useState(null),[x,g]=l.useState(!1),p=()=>{h(!0),d(null),I.getAgentActivity(t.name).then(r=>c(r.data)).catch(r=>d(r.message||"Failed to load agent activity")).finally(()=>h(!1))};l.useEffect(()=>{p()},[t.name]);const f=_e[t.icon]||w,b=Me[t.color]||"#6366f1",m=s==null?void 0:s.metrics_7d;return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 bg-black/20 z-40",onClick:a}),e.jsx("div",{className:"fixed right-0 top-0 bottom-0 w-[480px] bg-white border-l border-gray-200 z-50 overflow-y-auto animate-slide-in-right",children:e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`w-10 h-10 rounded-lg ${Ae[t.color]} flex items-center justify-center`,children:e.jsx(f,{className:`w-5 h-5 ${we[t.color]}`})}),e.jsxs("div",{children:[e.jsx("h2",{className:"font-semibold text-gray-900",children:t.display_name}),e.jsx("span",{className:`inline-block text-[11px] font-medium rounded-full px-2 py-0.5 mt-0.5 ${Se[t.status]||"bg-gray-100 text-gray-600"}`,children:t.status})]})]}),e.jsx("button",{type:"button",onClick:a,className:"p-1.5 rounded-lg hover:bg-gray-100 text-gray-400 hover:text-gray-600 transition-colors",children:e.jsx(J,{className:"w-5 h-5"})})]}),n&&e.jsxs("div",{className:"glass-card p-4 text-center",children:[e.jsx("p",{className:"text-sm text-red-600 mb-2",children:n}),e.jsx("button",{type:"button",onClick:p,className:"text-xs font-medium text-orange-600 hover:text-orange-700",children:"Retry"})]}),i&&!n&&e.jsxs("div",{className:"space-y-4",children:[e.jsx(v,{className:"h-16 w-full"}),e.jsx("div",{className:"grid grid-cols-2 gap-3",children:[...Array(4)].map((r,_)=>e.jsx(v,{className:"h-16"},_))}),e.jsx(v,{className:"h-[120px] w-full"}),e.jsx(v,{className:"h-48 w-full"})]}),s&&!i&&e.jsxs(e.Fragment,{children:[s.soul_summary&&e.jsxs("div",{className:"glass-card",children:[e.jsxs("button",{type:"button",onClick:()=>g(r=>!r),className:"w-full flex items-center justify-between p-3 text-left",children:[e.jsx("span",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wide",children:"Identity"}),x?e.jsx(se,{className:"w-4 h-4 text-gray-400"}):e.jsx(Y,{className:"w-4 h-4 text-gray-400"})]}),x&&e.jsx("div",{className:"px-3 pb-3",children:e.jsx("p",{className:"text-sm text-gray-700 leading-relaxed",children:s.soul_summary})})]}),m&&e.jsx("div",{className:"grid grid-cols-2 gap-3",children:[{label:"7d Events",value:m.total_tasks},{label:"Success Rate",value:`${(m.success_rate*100).toFixed(1)}%`},{label:"Avg Duration",value:`${m.avg_duration_s.toFixed(1)}s`},{label:"7d Cost",value:t.uses_ai?`$${m.total_cost.toFixed(3)}`:"N/A"}].map(r=>e.jsxs("div",{className:"glass-card p-3",children:[e.jsx("div",{className:"text-[11px] text-gray-500 mb-1",children:r.label}),e.jsx("div",{className:"text-lg font-semibold text-gray-900 font-mono",children:r.value})]},r.label))}),((u=s.cost_history)==null?void 0:u.length)>0&&e.jsxs("div",{className:"glass-card p-3",children:[e.jsx("div",{className:"text-[11px] text-gray-500 mb-2 font-semibold uppercase tracking-wide",children:"Cost (30d)"}),e.jsx(re,{width:"100%",height:120,children:e.jsxs(ie,{data:s.cost_history,children:[e.jsx("defs",{children:e.jsxs("linearGradient",{id:`fill-${t.name}`,x1:"0",y1:"0",x2:"0",y2:"1",children:[e.jsx("stop",{offset:"0%",stopColor:b,stopOpacity:.3}),e.jsx("stop",{offset:"100%",stopColor:b,stopOpacity:.02})]})}),e.jsx(le,{dataKey:"date",hide:!0}),e.jsx(ne,{formatter:r=>`$${Number(r).toFixed(4)}`,labelFormatter:r=>r}),e.jsx(oe,{type:"monotone",dataKey:"cost",stroke:b,fill:`url(#fill-${t.name})`,strokeWidth:1.5})]})})]}),((y=s.recent_tasks)==null?void 0:y.length)>0&&e.jsxs("div",{className:"glass-card p-3",children:[e.jsx("div",{className:"text-[11px] text-gray-500 mb-2 font-semibold uppercase tracking-wide",children:t.name==="task_processor"?"Recent Tasks":"Recent Events"}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full text-xs",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"text-gray-400 border-b border-gray-100",children:[e.jsx("th",{className:"text-left pb-1.5 font-medium",children:"Action"}),e.jsx("th",{className:"text-left pb-1.5 font-medium",children:"Status"}),e.jsx("th",{className:"text-right pb-1.5 font-medium",children:"Duration"}),e.jsx("th",{className:"text-right pb-1.5 font-medium",children:"Cost"}),e.jsx("th",{className:"text-right pb-1.5 font-medium",children:"When"})]})}),e.jsx("tbody",{children:s.recent_tasks.slice(0,10).map((r,_)=>{const j=r.duration_ms,K=j!=null?j>=1e3?`${(j/1e3).toFixed(1)}s`:`${j}ms`:"--",Q=r.cost_usd!=null&&r.cost_usd>0?`$${Number(r.cost_usd).toFixed(4)}`:t.uses_ai?"$0":"N/A";return e.jsxs("tr",{className:"border-b border-gray-50 last:border-0",children:[e.jsx("td",{className:"py-1.5 text-gray-700 font-medium",children:r.action}),e.jsx("td",{className:"py-1.5",children:e.jsxs("span",{className:"inline-flex items-center gap-1.5",children:[e.jsx("span",{className:`w-1.5 h-1.5 rounded-full ${Ce[r.status]||"bg-gray-400"}`}),e.jsx("span",{className:"text-gray-600",children:r.status})]})}),e.jsx("td",{className:"py-1.5 text-right text-gray-500 font-mono",children:K}),e.jsx("td",{className:"py-1.5 text-right text-gray-500 font-mono",children:Q}),e.jsx("td",{className:"py-1.5 text-right text-gray-400",children:$e(r.created_at)})]},r.id??_)})})]})})]})]})]})})]})}const Oe=1e4;function Re(){const[t,a]=l.useState(null),[s,c]=l.useState(!0),[i,h]=l.useState(null),n=l.useRef(null),d=l.useRef(!0),x=l.useCallback(async()=>{try{const g=await I.getAgentFleet();a(g.data),h(null)}catch(g){h(g.message||"Failed to load agent fleet")}finally{d.current&&(c(!1),d.current=!1)}},[]);return l.useEffect(()=>(x(),n.current=setInterval(x,Oe),()=>clearInterval(n.current)),[x]),{data:t,loading:s,error:i,refresh:x}}const De=l.lazy(()=>N(()=>import("./SystemMap-D7ryOKrZ.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16]))),Ie=l.lazy(()=>N(()=>import("./TaskQueueMonitor-DTP-WHfl.js"),__vite__mapDeps([17,1,2,3,18,13,19,20,21]))),Le=l.lazy(()=>N(()=>import("./CostDashboard-B4SGeF1h.js"),__vite__mapDeps([22,1,2,3,23,14,15]))),Ee=l.lazy(()=>N(()=>import("./ActivityTimeline-k5mIYHac.js"),__vite__mapDeps([24,1,2,3,21]))),Fe=[{id:"map",label:"System Map"},{id:"fleet",label:"Fleet"},{id:"tasks",label:"Task Queue"},{id:"costs",label:"Costs"},{id:"activity",label:"Activity"}],X=["ai","core_ops","infra"],Pe={ai:"AI Agents",core_ops:"Core Operations",infra:"Infrastructure"},Ve={ai:"Use Claude API, generate revenue",core_ops:"Lead-touching, business logic",infra:"Monitoring, maintenance"};function k(){return e.jsx("div",{className:"flex items-center justify-center h-48",children:e.jsx("div",{className:"w-6 h-6 border-2 border-orange-200 border-t-orange-500 rounded-full animate-spin"})})}function qe(t){return t?new Date(t).toLocaleTimeString([],{hour:"numeric",minute:"2-digit"}):""}function Be(t){const a={};for(const s of X)a[s]=[];for(const s of t){const c=s.tier||"infra";a[c]||(a[c]=[]),a[c].push(s)}return a}function ze(){const{data:t,loading:a,error:s,refresh:c}=Re(),[i,h]=l.useState("map"),[n,d]=l.useState(null),x=(t==null?void 0:t.agents)??[],g=t==null?void 0:t.fleet_summary,p=g?`${g.total_agents} agents`:"",f=g!=null&&g.updated_at?`Updated ${qe(g.updated_at)}`:"",b=Be(x);return e.jsxs("div",{className:"animate-page-in",children:[e.jsx(ee,{title:"Agent Army",subtitle:`${p}${f?` Â· ${f}`:""}`,actions:e.jsxs("button",{onClick:c,className:"inline-flex items-center gap-1.5 text-xs text-gray-500 hover:text-gray-700 transition-colors",children:[e.jsx(S,{className:"w-3.5 h-3.5"}),"Refresh"]})}),s&&e.jsxs("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-xl flex items-center gap-2 text-sm text-red-700",children:[e.jsx(ce,{className:"w-4 h-4 shrink-0"}),e.jsx("span",{children:s}),e.jsx("button",{onClick:c,className:"ml-auto text-red-600 hover:underline text-xs font-medium",children:"Retry"})]}),e.jsx("div",{className:"mb-5",children:e.jsx(ue,{summary:g})}),e.jsx("div",{className:"mb-5",children:e.jsx(te,{tabs:Fe,activeId:i,onChange:h})}),i==="map"&&e.jsx(l.Suspense,{fallback:e.jsx(k,{}),children:e.jsx(De,{onSelectAgent:m=>{const u=x.find(y=>y.name===m);u&&d(u)}})}),i==="fleet"&&e.jsx("div",{className:"animate-fade-up",children:a?e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:Array.from({length:14}).map((m,u)=>e.jsx(Ne,{},u))}):e.jsx("div",{className:"space-y-8 stagger-in",children:X.map(m=>{const u=b[m]||[];return u.length===0?null:e.jsxs("div",{children:[e.jsxs("div",{className:"mb-3",children:[e.jsx("h3",{className:"text-sm font-semibold text-gray-900",children:Pe[m]}),e.jsx("p",{className:"text-xs text-gray-500",children:Ve[m]})]}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:u.map(y=>e.jsx(ke,{agent:y,tier:m,selected:(n==null?void 0:n.name)===y.name,onClick:()=>d((n==null?void 0:n.name)===y.name?null:y)},y.name))})]},m)})})}),i==="tasks"&&e.jsx(l.Suspense,{fallback:e.jsx(k,{}),children:e.jsx(Ie,{})}),i==="costs"&&e.jsx(l.Suspense,{fallback:e.jsx(k,{}),children:e.jsx(Le,{})}),i==="activity"&&e.jsx(l.Suspense,{fallback:e.jsx(k,{}),children:e.jsx(Ee,{})}),n&&e.jsx(Te,{agent:n,onClose:()=>d(null)})]})}const rt=Object.freeze(Object.defineProperty({__proto__:null,default:ze},Symbol.toStringTag,{value:"Module"}));export{rt as A,E as B,V as G,B as H,S as R,G as S,z as a};
