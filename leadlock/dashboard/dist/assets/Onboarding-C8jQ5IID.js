import{c as re,u as _e,i as ve,r as o,j as e,Z as Ne,S as we,o as ne,B as Ce,n as Se,k as ke}from"./index-BHeaMpcx.js";import{C as R}from"./circle-alert-CrLVGEbj.js";import{L as j}from"./loader-circle-IxmfVIqj.js";import{P as oe}from"./plug-Jek8NuEF.js";import{C as B}from"./circle-check-CZ_JZGx6.js";import{E as Ae}from"./external-link-BZb6bXpl.js";import{C as ie}from"./check-7J3fwmG1.js";import{A as se}from"./arrow-left-CDLFzATr.js";import{P as Fe}from"./phone-DNdX0wKk.js";import{A as te}from"./arrow-right-C_2DiVuh.js";/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Be=re("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Te=re("Wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]]),L=[{label:"Business",icon:Ce},{label:"Services",icon:Te},{label:"AI Agent",icon:Se},{label:"CRM",icon:oe},{label:"Plan & Pay",icon:ke},{label:"Phone",icon:Fe},{label:"Go Live",icon:ne}],ae={hvac:["AC Repair","AC Installation","Furnace Repair","Furnace Installation","Ductwork","Heat Pump","Maintenance","Indoor Air Quality"],plumbing:["Drain Cleaning","Water Heater","Leak Repair","Pipe Repair","Sewer Line","Faucet Installation","Toilet Repair","Repiping"],electrical:["Panel Upgrade","Wiring","Outlet Installation","Lighting","Generator","EV Charger","Ceiling Fan","Troubleshooting"],roofing:["Roof Repair","Roof Replacement","Inspection","Gutter Installation","Storm Damage","Flat Roof","Shingle Repair","Leak Repair"],solar:["Solar Installation","Panel Maintenance","Battery Storage","System Design","Inspection","Inverter Repair"],"general contractor":["Remodeling","Additions","Bathroom","Kitchen","Flooring","Painting","Drywall","Framing"],landscaping:["Lawn Care","Tree Trimming","Irrigation","Hardscaping","Landscape Design","Mulching","Sod Installation"],"pest control":["General Pest","Termite","Rodent","Mosquito","Bed Bug","Wildlife Removal","Inspection"],other:["Service 1","Service 2","Service 3"]},Pe=[{id:"servicetitan",name:"ServiceTitan",desc:"Most popular for HVAC, plumbing, electrical"},{id:"housecallpro",name:"Housecall Pro",desc:"Great for small to mid-size teams"},{id:"jobber",name:"Jobber",desc:"Simple scheduling and invoicing"},{id:"gohighlevel",name:"GoHighLevel",desc:"All-in-one marketing + CRM"},{id:"google_sheets",name:"No CRM yet",desc:"We'll track leads in LeadLock for you"}],Ie=[{id:"friendly_professional",label:"Friendly & Professional",desc:"Warm but competent. Best for most contractors."},{id:"casual",label:"Casual & Relaxed",desc:"Like texting a friend. Great for residential."},{id:"formal",label:"Formal & Corporate",desc:"Buttoned-up. Best for commercial clients."}];function Re({currentStep:p}){return e.jsx("div",{className:"flex items-center justify-center gap-1 mb-10",children:L.map((b,n)=>{const _=b.icon,T=n===p,v=n<p;return e.jsxs("div",{className:"flex items-center",children:[e.jsxs("div",{className:`flex items-center gap-1.5 px-3 py-1.5 rounded-full text-xs font-medium transition-all duration-300 ${T?"bg-orange-500/15 text-orange-400 border border-orange-500/30":v?"bg-emerald-500/10 text-emerald-400 border border-emerald-500/20":"bg-[#1A1A24] text-[#52526B] border border-[#222230]"}`,children:[v?e.jsx(B,{className:"w-3.5 h-3.5"}):e.jsx(_,{className:"w-3.5 h-3.5"}),e.jsx("span",{className:"hidden sm:inline",children:b.label})]}),n<L.length-1&&e.jsx("div",{className:`w-6 h-px mx-1 ${n<p?"bg-emerald-500/40":"bg-[#222230]"}`})]},n)})})}function Le({text:p}){const[b,n]=o.useState(!1),_=()=>{navigator.clipboard.writeText(p),n(!0),setTimeout(()=>n(!1),2e3)};return e.jsx("button",{onClick:_,className:"p-1.5 rounded-lg hover:bg-[#222230] transition-colors text-[#52526B] hover:text-[#A1A1BC]",children:b?e.jsx(ie,{className:"w-3.5 h-3.5 text-emerald-400"}):e.jsx(Be,{className:"w-3.5 h-3.5"})})}function Ve(){const p=_e(),[b]=ve(),n=localStorage.getItem("ll_token"),_=localStorage.getItem("ll_client_id")||"",T=localStorage.getItem("ll_trade_type")||"hvac",v=()=>{if(b.get("success")==="true")return 5;const s=parseInt(localStorage.getItem("ll_onboarding_step")||"0",10);return Math.min(s,6)},[r,N]=o.useState(v),[E,w]=o.useState(!1),[$,h]=o.useState(""),[P,z]=o.useState(!1),[C,S]=o.useState(null),[k,M]=o.useState(!1),[g,O]=o.useState(""),[W,D]=o.useState(""),[I,le]=o.useState([]),[G,H]=o.useState(""),[J,ce]=o.useState(null),[U,V]=o.useState(!1),[Y,Z]=o.useState(!1),[q,de]=o.useState(!1),[t,A]=o.useState({business_hours_start:"08:00",business_hours_end:"18:00",work_saturday:!1,saturday_start:"09:00",saturday_end:"14:00",after_hours:"ai_responds_books_next_available",service_area_radius:"30",service_area_zips:"",primary_services:[],secondary_services:[],rep_name:"",tone:"friendly_professional",emergency_contact:"",crm_type:"google_sheets",crm_api_key:"",crm_tenant_id:""}),c=(s,a)=>{A(i=>({...i,[s]:a}))},me=(s,a)=>{A(i=>{const x=i[s],u=x.includes(a)?x.filter(f=>f!==a):[...x,a];return{...i,[s]:u}})};o.useEffect(()=>{n&&fetch("/api/v1/dashboard/settings",{headers:{Authorization:`Bearer ${n}`}}).then(s=>s.ok?s.json():null).then(s=>{var y;if(!(s!=null&&s.config))return;const a=s.config,i=a.persona||{},x=((y=a.hours)==null?void 0:y.business)||{},u=a.services||{},f=a.service_area||{};A(l=>{var F,Q,X,ee;return{...l,rep_name:i.rep_name||l.rep_name,tone:i.tone||l.tone,emergency_contact:i.emergency_contact_phone||l.emergency_contact,business_hours_start:x.start||l.business_hours_start,business_hours_end:x.end||l.business_hours_end,work_saturday:(x.days||[]).includes("sat"),saturday_start:((Q=(F=a.hours)==null?void 0:F.saturday)==null?void 0:Q.start)||l.saturday_start,saturday_end:((ee=(X=a.hours)==null?void 0:X.saturday)==null?void 0:ee.end)||l.saturday_end,after_hours:x.after_hours_handling||l.after_hours,service_area_radius:String(f.radius_miles||l.service_area_radius),service_area_zips:(f.valid_zips||[]).join(", "),primary_services:u.primary||l.primary_services,secondary_services:u.secondary||l.secondary_services}}),s.crm_type&&s.crm_type!=="google_sheets"&&A(l=>({...l,crm_type:s.crm_type})),s.twilio_phone&&O(s.twilio_phone)}).catch(()=>{})},[n]),o.useEffect(()=>{localStorage.setItem("ll_onboarding_step",String(r))},[r]),o.useEffect(()=>{r===4&&I.length===0&&fetch("/api/v1/billing/plans",{headers:{Authorization:`Bearer ${n}`}}).then(s=>s.ok?s.json():null).then(s=>{s!=null&&s.plans&&le(s.plans)}).catch(()=>{})},[r,I.length,n]),o.useEffect(()=>{r===6&&fetch("/api/v1/dashboard/readiness",{headers:{Authorization:`Bearer ${n}`}}).then(s=>s.ok?s.json():null).then(s=>{s&&ce(s)}).catch(()=>{})},[r,n]),o.useEffect(()=>{r===5&&!g&&!k&&K()},[r,g,k]);const he=o.useCallback(async()=>{w(!0),h("");try{const s={persona:{rep_name:t.rep_name||"Sarah",tone:t.tone,emergency_contact_phone:t.emergency_contact||null},hours:{business:{start:t.business_hours_start,end:t.business_hours_end,days:t.work_saturday?["mon","tue","wed","thu","fri","sat"]:["mon","tue","wed","thu","fri"]},saturday:t.work_saturday?{start:t.saturday_start,end:t.saturday_end}:null,after_hours_handling:t.after_hours},services:{primary:t.primary_services,secondary:t.secondary_services},service_area:{radius_miles:parseInt(t.service_area_radius)||30,valid_zips:t.service_area_zips?t.service_area_zips.split(",").map(i=>i.trim()).filter(Boolean):[]}};if(!(await fetch("/api/v1/dashboard/settings",{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${n}`},body:JSON.stringify({config:s})})).ok)throw new Error("Failed to save configuration")}catch(s){throw h(s.message),s}finally{w(!1)}},[t,n]),xe=o.useCallback(async()=>{w(!0),h("");try{const a={crm_type:t.crm_type==="none"?"google_sheets":t.crm_type,...t.crm_api_key?{crm_api_key:t.crm_api_key}:{},...t.crm_tenant_id?{crm_tenant_id:t.crm_tenant_id}:{}};if(!(await fetch("/api/v1/dashboard/onboarding",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${n}`},body:JSON.stringify(a)})).ok)throw new Error("Failed to save CRM configuration")}catch(s){throw h(s.message),s}finally{w(!1)}},[t,n]),ue=async()=>{z(!0),S(null);try{const a=await(await fetch("/api/v1/integrations/test",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${n}`},body:JSON.stringify({crm_type:t.crm_type,api_key:t.crm_api_key,tenant_id:t.crm_tenant_id})})).json();S(a)}catch{S({connected:!1,message:"Connection test failed"})}finally{z(!1)}},pe=async s=>{H(s),h("");try{const a=await fetch("/api/v1/billing/create-checkout",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${n}`},body:JSON.stringify({price_id:s,success_path:"/onboarding",cancel_path:"/onboarding"})}),i=await a.json();if(!a.ok)throw new Error(i.detail||"Checkout failed");const x=new URL(i.url);window.location.href=i.url}catch(a){h(a.message)}finally{H("")}},K=async()=>{M(!0),D("");try{const a=(localStorage.getItem("ll_owner_phone")||"").replace(/\D/g,"").slice(1,4)||"512",i=await fetch(`/api/v1/settings/available-numbers?area_code=${a}`,{headers:{Authorization:`Bearer ${n}`}});if(!i.ok)throw new Error("No numbers available");const u=(await i.json()).numbers||[];if(u.length===0)throw new Error("No numbers available in your area code");const f=u[0].phone_number||u[0],y=await fetch("/api/v1/settings/provision-number",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${n}`},body:JSON.stringify({phone_number:f})});if(!y.ok){const F=await y.json().catch(()=>({}));throw new Error(F.detail||"Failed to provision number")}const l=await y.json();O(l.phone_number)}catch(s){D(s.message)}finally{M(!1)}},ge=async()=>{V(!0),h("");try{if(!(await fetch("/api/v1/dashboard/onboarding",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${n}`},body:JSON.stringify({go_live:!0})})).ok)throw new Error("Failed to activate account");localStorage.removeItem("ll_onboarding_step"),window.location.href="/dashboard"}catch(s){h(s.message)}finally{V(!1)}},be=async()=>{Z(!0);try{if(!(localStorage.getItem("ll_owner_phone")||"")){h("No owner phone on file to send test SMS");return}await new Promise(a=>setTimeout(a,1500)),de(!0)}catch{h("Test SMS failed")}finally{Z(!1)}},fe=async()=>{h("");try{r<=2&&await he(),r===3&&await xe(),N(s=>s+1)}catch{}},ye=()=>r===0?!0:r===1?t.primary_services.length>0:r===2?t.rep_name.trim().length>0:r===3?!0:r===4?!1:r===5?!!g:!0,je=`${window.location.origin}/api/v1/webhook`,d="w-full px-4 py-3 rounded-xl text-sm text-[#F8F8FC] bg-[#1A1A24] border border-[#222230] outline-none transition-all placeholder:text-[#52526B] focus:border-orange-500 focus:ring-2 focus:ring-orange-500/20",m="block text-xs font-semibold uppercase tracking-wider mb-2 text-[#52526B]";return e.jsxs("div",{className:"landing-dark min-h-screen flex items-center justify-center p-4 relative overflow-hidden",children:[e.jsx("div",{className:"absolute top-[-20%] right-[-10%] w-[600px] h-[600px] rounded-full bg-orange-500/[0.04] blur-3xl"}),e.jsx("div",{className:"absolute bottom-[-15%] left-[-10%] w-[500px] h-[500px] rounded-full bg-orange-500/[0.03] blur-3xl"}),e.jsxs("div",{className:"w-full max-w-[640px] relative z-10",children:[e.jsxs("div",{className:"flex items-center justify-center gap-3 mb-6",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl flex items-center justify-center bg-gradient-to-br from-orange-500 to-orange-600 shadow-lg shadow-orange-500/25",children:e.jsx(Ne,{className:"w-5 h-5 text-white",strokeWidth:2.5})}),e.jsxs("span",{className:"text-2xl font-bold tracking-tight text-[#F8F8FC]",children:["Lead",e.jsx("span",{className:"text-orange-500",children:"Lock"})]})]}),e.jsx(Re,{currentStep:r}),$&&e.jsxs("div",{className:"mb-4 px-4 py-3 rounded-xl flex items-center gap-2.5 text-sm bg-red-500/10 border border-red-500/20 text-red-400",children:[e.jsx(R,{className:"w-4 h-4 flex-shrink-0"}),$]}),e.jsxs("div",{className:"ld-card p-8",children:[r===0&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"text-center mb-2",children:[e.jsx("h2",{className:"text-xl font-bold text-[#F8F8FC] mb-1",children:"Business hours & service area"}),e.jsx("p",{className:"text-sm text-[#52526B]",children:"When should your AI agent respond to leads?"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"ob-hours-open",className:m,children:"Open"}),e.jsx("input",{id:"ob-hours-open",type:"time",value:t.business_hours_start,onChange:s=>c("business_hours_start",s.target.value),className:d})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"ob-hours-close",className:m,children:"Close"}),e.jsx("input",{id:"ob-hours-close",type:"time",value:t.business_hours_end,onChange:s=>c("business_hours_end",s.target.value),className:d})]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:t.work_saturday,onChange:s=>c("work_saturday",s.target.checked),className:"w-4 h-4 rounded border-[#222230] bg-[#1A1A24] text-orange-500 focus:ring-orange-500/20"}),e.jsx("span",{className:"text-sm text-[#A1A1BC]",children:"We work Saturdays"})]}),t.work_saturday&&e.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-3 ml-7",children:[e.jsx("input",{type:"time",value:t.saturday_start,onChange:s=>c("saturday_start",s.target.value),className:d}),e.jsx("input",{type:"time",value:t.saturday_end,onChange:s=>c("saturday_end",s.target.value),className:d})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"ob-after-hours",className:m,children:"After-hours handling"}),e.jsxs("select",{id:"ob-after-hours",value:t.after_hours,onChange:s=>c("after_hours",s.target.value),className:`${d} appearance-none`,children:[e.jsx("option",{value:"ai_responds_books_next_available",children:"AI responds & books next available slot"}),e.jsx("option",{value:"ai_responds_owner_notified",children:"AI responds & notifies you"}),e.jsx("option",{value:"do_not_respond",children:"Don't respond after hours"})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"ob-radius",className:m,children:"Service radius (miles)"}),e.jsx("input",{id:"ob-radius",type:"number",value:t.service_area_radius,onChange:s=>c("service_area_radius",s.target.value),className:d,placeholder:"30"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"ob-zips",className:m,children:"Zip codes (optional, comma-separated)"}),e.jsx("input",{id:"ob-zips",type:"text",value:t.service_area_zips,onChange:s=>c("service_area_zips",s.target.value),className:d,placeholder:"10001, 10002, 10003"})]})]}),r===1&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"text-center mb-2",children:[e.jsx("h2",{className:"text-xl font-bold text-[#F8F8FC] mb-1",children:"What services do you offer?"}),e.jsx("p",{className:"text-sm text-[#52526B]",children:"Select your primary services so the AI knows what to qualify for."})]}),e.jsxs("div",{children:[e.jsx("label",{className:m,children:"Primary services"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:(ae[T]||ae.other).map(s=>{const a=t.primary_services.includes(s);return e.jsx("button",{onClick:()=>me("primary_services",s),className:`px-3 py-1.5 rounded-lg text-sm font-medium transition-all cursor-pointer ${a?"bg-orange-500/15 text-orange-400 border border-orange-500/30":"bg-[#1A1A24] text-[#A1A1BC] border border-[#222230] hover:border-[#333340]"}`,children:s},s)})})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"ob-secondary-services",className:m,children:"Secondary services (optional)"}),e.jsx("input",{id:"ob-secondary-services",type:"text",value:t.secondary_services.join(", "),onChange:s=>c("secondary_services",s.target.value.split(",").map(a=>a.trim()).filter(Boolean)),className:d,placeholder:"Type additional services, comma-separated"})]})]}),r===2&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"text-center mb-2",children:[e.jsx("h2",{className:"text-xl font-bold text-[#F8F8FC] mb-1",children:"Set up your AI agent"}),e.jsx("p",{className:"text-sm text-[#52526B]",children:"This is who your customers will be texting with."})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"ob-agent-name",className:m,children:"Agent name"}),e.jsx("input",{id:"ob-agent-name",type:"text",value:t.rep_name,onChange:s=>c("rep_name",s.target.value),className:d,placeholder:"e.g. Sarah, Mike, Alex"}),e.jsxs("p",{className:"text-xs text-[#52526B] mt-1.5",children:['This name appears in SMS: "Hi! This is ',t.rep_name||"Sarah"," from ",localStorage.getItem("ll_business")||"your company",'."']})]}),e.jsxs("div",{children:[e.jsx("label",{className:m,children:"Conversation tone"}),e.jsx("div",{className:"space-y-2",children:Ie.map(s=>e.jsxs("label",{className:`flex items-start gap-3 p-3 rounded-xl border cursor-pointer transition-all ${t.tone===s.id?"border-orange-500/30 bg-orange-500/5":"border-[#222230] hover:border-[#333340]"}`,children:[e.jsx("input",{type:"radio",name:"tone",value:s.id,checked:t.tone===s.id,onChange:a=>c("tone",a.target.value),className:"mt-0.5 text-orange-500 focus:ring-orange-500/20"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-[#F8F8FC]",children:s.label}),e.jsx("p",{className:"text-xs text-[#52526B]",children:s.desc})]})]},s.id))})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"ob-emergency",className:m,children:"Emergency contact phone"}),e.jsx("input",{id:"ob-emergency",type:"tel",value:t.emergency_contact,onChange:s=>c("emergency_contact",s.target.value),className:d,placeholder:"(555) 123-4567"}),e.jsx("p",{className:"text-xs text-[#52526B] mt-1.5",children:"We'll route urgent leads here (gas leaks, flooding, no heat, etc.)"})]})]}),r===3&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"text-center mb-2",children:[e.jsx("h2",{className:"text-xl font-bold text-[#F8F8FC] mb-1",children:"Connect your CRM"}),e.jsx("p",{className:"text-sm text-[#52526B]",children:"We'll book appointments directly into your system."})]}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:Pe.map(s=>e.jsxs("button",{onClick:()=>{c("crm_type",s.id),S(null)},className:`p-4 rounded-xl border text-left transition-all cursor-pointer ${t.crm_type===s.id?"border-orange-500/30 bg-orange-500/5":"border-[#222230] hover:border-[#333340]"}`,children:[e.jsx("p",{className:"text-sm font-semibold text-[#F8F8FC]",children:s.name}),e.jsx("p",{className:"text-xs text-[#52526B] mt-0.5",children:s.desc})]},s.id))}),t.crm_type&&t.crm_type!=="google_sheets"&&e.jsxs("div",{className:"space-y-4 pt-2",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"ob-crm-key",className:m,children:"API Key / Access Token"}),e.jsx("input",{id:"ob-crm-key",type:"password",value:t.crm_api_key,onChange:s=>c("crm_api_key",s.target.value),className:d,placeholder:"Paste your API key"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"ob-crm-tenant",className:m,children:"Tenant / Account ID"}),e.jsx("input",{id:"ob-crm-tenant",type:"text",value:t.crm_tenant_id,onChange:s=>c("crm_tenant_id",s.target.value),className:d,placeholder:"Your account ID"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("button",{onClick:ue,disabled:P||!t.crm_api_key,className:"px-4 py-2 rounded-xl text-sm font-semibold bg-[#1A1A24] border border-[#222230] text-[#A1A1BC] hover:border-orange-500/30 hover:text-orange-400 transition-all cursor-pointer disabled:opacity-40 disabled:cursor-not-allowed flex items-center gap-2",children:[P?e.jsx(j,{className:"w-4 h-4 animate-spin"}):e.jsx(oe,{className:"w-4 h-4"}),P?"Testing...":"Test Connection"]}),C&&e.jsx("span",{className:`text-sm font-medium ${C.connected?"text-emerald-400":"text-red-400"}`,children:C.connected?e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(B,{className:"w-4 h-4"})," Connected"]}):e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(R,{className:"w-4 h-4"})," ",C.message]})})]})]})]}),r===4&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"text-center mb-2",children:[e.jsx("h2",{className:"text-xl font-bold text-[#F8F8FC] mb-1",children:"Choose your plan"}),e.jsx("p",{className:"text-sm text-[#52526B]",children:"Select a plan to activate your account and get a dedicated phone number."})]}),e.jsx("div",{className:"space-y-4",children:I.map(s=>e.jsxs("div",{className:`p-5 rounded-xl border transition-all ${s.popular?"border-orange-500/30 bg-orange-500/[0.03]":"border-[#222230]"}`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("h3",{className:"text-base font-bold text-[#F8F8FC]",children:s.name}),s.popular&&e.jsx("span",{className:"px-2 py-0.5 rounded-full bg-orange-500/15 text-[10px] font-bold uppercase tracking-wide text-orange-400",children:"Most Popular"})]}),s.subtitle&&e.jsx("p",{className:"text-xs text-[#52526B] mt-0.5",children:s.subtitle})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("span",{className:"text-2xl font-black text-[#F8F8FC]",children:s.price}),e.jsx("span",{className:"text-xs text-[#52526B]",children:"/mo"})]})]}),e.jsxs("div",{className:"flex flex-wrap gap-1.5 mb-4",children:[(s.features||[]).slice(0,4).map((a,i)=>e.jsx("span",{className:"px-2 py-0.5 rounded-md bg-[#1A1A24] text-[11px] text-[#A1A1BC]",children:a},i)),(s.features||[]).length>4&&e.jsxs("span",{className:"px-2 py-0.5 rounded-md bg-[#1A1A24] text-[11px] text-[#52526B]",children:["+",s.features.length-4," more"]})]}),e.jsx("button",{onClick:()=>pe(s.price_id),disabled:!!G,className:`w-full py-2.5 rounded-xl text-sm font-semibold transition-all cursor-pointer disabled:opacity-50 ${s.popular?"bg-orange-500 hover:bg-orange-600 text-white":"bg-[#1A1A24] border border-[#222230] text-[#A1A1BC] hover:border-orange-500/30 hover:text-orange-400"}`,children:G===s.price_id?e.jsxs("span",{className:"flex items-center justify-center gap-2",children:[e.jsx(j,{className:"w-4 h-4 animate-spin"})," Redirecting to Stripe..."]}):e.jsxs("span",{className:"flex items-center justify-center gap-2",children:["Subscribe ",e.jsx(Ae,{className:"w-3.5 h-3.5"})]})})]},s.slug))})]}),r===5&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"text-center mb-2",children:[e.jsx("h2",{className:"text-xl font-bold text-[#F8F8FC] mb-1",children:"Your dedicated phone number"}),e.jsx("p",{className:"text-sm text-[#52526B]",children:"We're setting up your SMS line so leads can reach you."})]}),k&&e.jsxs("div",{className:"flex flex-col items-center gap-3 py-8",children:[e.jsx(j,{className:"w-8 h-8 text-orange-400 animate-spin"}),e.jsx("p",{className:"text-sm text-[#A1A1BC]",children:"Provisioning your phone number..."})]}),g&&e.jsxs("div",{className:"p-6 rounded-xl bg-emerald-500/5 border border-emerald-500/20 text-center",children:[e.jsx(B,{className:"w-10 h-10 text-emerald-400 mx-auto mb-3"}),e.jsx("p",{className:"text-sm font-medium text-[#A1A1BC] mb-1",children:"Your number is ready!"}),e.jsx("p",{className:"text-2xl font-bold text-[#F8F8FC] tracking-tight",children:g})]}),W&&!g&&e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"p-4 rounded-xl bg-red-500/5 border border-red-500/20",children:e.jsx("p",{className:"text-sm text-red-400",children:W})}),e.jsx("button",{onClick:K,disabled:k,className:"w-full py-2.5 rounded-xl text-sm font-semibold bg-[#1A1A24] border border-[#222230] text-[#A1A1BC] hover:border-orange-500/30 hover:text-orange-400 transition-all cursor-pointer disabled:opacity-50",children:"Try Again"})]})]}),r===6&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"text-center mb-2",children:[e.jsx("h2",{className:"text-xl font-bold text-[#F8F8FC] mb-1",children:"Ready to go live!"}),e.jsx("p",{className:"text-sm text-[#52526B]",children:"Review your setup and start receiving leads."})]}),e.jsx("div",{className:"space-y-3",children:J&&Object.entries(J.checks||{}).map(([s,a])=>{const i={phone_provisioned:"Phone number provisioned",billing_active:"Billing active",services_configured:"Services configured",persona_set:"AI persona set up",crm_connected:"CRM connected"};return e.jsxs("div",{className:`flex items-center gap-3 p-3 rounded-xl border ${a?"border-emerald-500/20 bg-emerald-500/5":"border-[#222230]"}`,children:[a?e.jsx(B,{className:"w-5 h-5 text-emerald-400"}):e.jsx(R,{className:"w-5 h-5 text-[#52526B]"}),e.jsx("span",{className:`text-sm ${a?"text-emerald-400":"text-[#52526B]"}`,children:i[s]||s})]},s)})}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("h3",{className:"text-xs font-semibold uppercase tracking-wider text-[#52526B]",children:"Webhook URLs"}),[{label:"Website Form",path:"form"},{label:"Google LSA",path:"google-lsa"},{label:"Facebook",path:"facebook"},{label:"Angi",path:"angi"},{label:"Missed Calls",path:"missed-call"}].map(s=>{const a=`${je}/${s.path}/${_}`;return e.jsxs("div",{className:"flex items-center gap-2 p-2 rounded-lg bg-[#111118]",children:[e.jsx("span",{className:"text-xs font-medium text-[#A1A1BC] w-24 flex-shrink-0",children:s.label}),e.jsx("code",{className:"text-[11px] text-orange-400/80 truncate flex-1",children:a}),e.jsx(Le,{text:a})]},s.path)})]}),e.jsx("button",{onClick:be,disabled:Y||q,className:"w-full py-2.5 rounded-xl text-sm font-semibold bg-[#1A1A24] border border-[#222230] text-[#A1A1BC] hover:border-orange-500/30 hover:text-orange-400 transition-all cursor-pointer disabled:opacity-50 flex items-center justify-center gap-2",children:q?e.jsxs(e.Fragment,{children:[e.jsx(ie,{className:"w-4 h-4 text-emerald-400"})," Test SMS Sent"]}):Y?e.jsxs(e.Fragment,{children:[e.jsx(j,{className:"w-4 h-4 animate-spin"})," Sending..."]}):e.jsxs(e.Fragment,{children:[e.jsx(we,{className:"w-4 h-4"})," Send Test SMS"]})}),e.jsx("button",{onClick:ge,disabled:U,className:"w-full py-3.5 rounded-xl text-base font-bold ld-btn-primary flex items-center justify-center gap-2 disabled:opacity-50",children:U?e.jsxs(e.Fragment,{children:[e.jsx(j,{className:"w-5 h-5 animate-spin"})," Activating..."]}):e.jsxs(e.Fragment,{children:[e.jsx(ne,{className:"w-5 h-5"})," Go Live"]})})]}),r!==4&&r!==6&&e.jsxs("div",{className:"flex items-center justify-between mt-8 pt-6 border-t border-[#222230]",children:[r>0?e.jsxs("button",{onClick:()=>N(s=>s-1),className:"flex items-center gap-2 text-sm text-[#A1A1BC] hover:text-[#F8F8FC] transition-colors cursor-pointer",children:[e.jsx(se,{className:"w-4 h-4"})," Back"]}):e.jsx("div",{}),r<L.length-1&&e.jsx("button",{onClick:fe,disabled:!ye()||E,className:"ld-btn-primary px-6 py-2.5 text-sm flex items-center gap-2 disabled:opacity-40 disabled:cursor-not-allowed",children:E?e.jsxs(e.Fragment,{children:[e.jsx(j,{className:"w-4 h-4 animate-spin"})," Saving..."]}):e.jsxs(e.Fragment,{children:["Continue ",e.jsx(te,{className:"w-4 h-4"})]})})]}),r===5&&e.jsxs("div",{className:"flex items-center justify-between mt-8 pt-6 border-t border-[#222230]",children:[e.jsxs("button",{onClick:()=>N(s=>s-1),className:"flex items-center gap-2 text-sm text-[#A1A1BC] hover:text-[#F8F8FC] transition-colors cursor-pointer",children:[e.jsx(se,{className:"w-4 h-4"})," Back"]}),e.jsxs("button",{onClick:()=>N(s=>s+1),disabled:!g,className:"ld-btn-primary px-6 py-2.5 text-sm flex items-center gap-2 disabled:opacity-40 disabled:cursor-not-allowed",children:["Continue ",e.jsx(te,{className:"w-4 h-4"})]})]})]}),r<4&&e.jsx("button",{onClick:()=>p("/dashboard"),className:"block mx-auto mt-6 text-xs text-[#52526B] hover:text-[#A1A1BC] transition-colors cursor-pointer",children:"Skip for now - I'll set this up later"})]})]})}export{Ve as default};
