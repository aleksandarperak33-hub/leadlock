import{c as re,u as Ne,i as we,r as o,j as e,Z as Ce,S as Se,o as ne,B as ke,n as Ae,k as Fe}from"./index-C6CvHDG0.js";import{C as N}from"./circle-check-C_ZTPfFs.js";import{C as R}from"./circle-alert-CQ0yiEZR.js";import{L as _}from"./loader-circle-Cu5muWLC.js";import{P as oe}from"./plug-CeTiBi_3.js";import{E as Be}from"./external-link-DVFDFC6K.js";import{C as ie}from"./check-G1rlX1NV.js";import{A as se}from"./arrow-left-x6XvEO_x.js";import{P as Pe}from"./phone-EElV6Fq9.js";import{A as te}from"./arrow-right-BnH9bNIl.js";/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Te=re("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.460.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ie=re("Wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]]),L=[{label:"Business",icon:ke},{label:"Services",icon:Ie},{label:"AI Agent",icon:Ae},{label:"CRM",icon:oe},{label:"Plan & Pay",icon:Fe},{label:"Phone",icon:Pe},{label:"Go Live",icon:ne}],ae={hvac:["AC Repair","AC Installation","Furnace Repair","Furnace Installation","Ductwork","Heat Pump","Maintenance","Indoor Air Quality"],plumbing:["Drain Cleaning","Water Heater","Leak Repair","Pipe Repair","Sewer Line","Faucet Installation","Toilet Repair","Repiping"],electrical:["Panel Upgrade","Wiring","Outlet Installation","Lighting","Generator","EV Charger","Ceiling Fan","Troubleshooting"],roofing:["Roof Repair","Roof Replacement","Inspection","Gutter Installation","Storm Damage","Flat Roof","Shingle Repair","Leak Repair"],solar:["Solar Installation","Panel Maintenance","Battery Storage","System Design","Inspection","Inverter Repair"],"general contractor":["Remodeling","Additions","Bathroom","Kitchen","Flooring","Painting","Drywall","Framing"],landscaping:["Lawn Care","Tree Trimming","Irrigation","Hardscaping","Landscape Design","Mulching","Sod Installation"],"pest control":["General Pest","Termite","Rodent","Mosquito","Bed Bug","Wildlife Removal","Inspection"],other:["Service 1","Service 2","Service 3"]},Re=[{id:"servicetitan",name:"ServiceTitan",desc:"Most popular for HVAC, plumbing, electrical"},{id:"housecallpro",name:"Housecall Pro",desc:"Great for small to mid-size teams"},{id:"jobber",name:"Jobber",desc:"Simple scheduling and invoicing"},{id:"gohighlevel",name:"GoHighLevel",desc:"All-in-one marketing + CRM"},{id:"google_sheets",name:"No CRM yet",desc:"We'll track leads in LeadLock for you"}],Le=[{id:"friendly_professional",label:"Friendly & Professional",desc:"Warm but competent. Best for most contractors."},{id:"casual",label:"Casual & Relaxed",desc:"Like texting a friend. Great for residential."},{id:"formal",label:"Formal & Corporate",desc:"Buttoned-up. Best for commercial clients."}];function Ee({currentStep:g}){return e.jsx("div",{className:"flex items-center justify-center gap-1 mb-10",children:L.map((f,n)=>{const j=f.icon,w=n===g,C=n<g;return e.jsxs("div",{className:"flex items-center",children:[e.jsxs("div",{className:`flex items-center gap-1.5 px-3 py-1.5 rounded-full text-xs font-medium transition-all duration-300 ${w?"bg-orange-500/15 text-orange-400 border border-orange-500/30":C?"bg-emerald-500/10 text-emerald-400 border border-emerald-500/20":"bg-[#1A1A24] text-[#52526B] border border-[#222230]"}`,children:[C?e.jsx(N,{className:"w-3.5 h-3.5"}):e.jsx(j,{className:"w-3.5 h-3.5"}),e.jsx("span",{className:"hidden sm:inline",children:f.label})]}),n<L.length-1&&e.jsx("div",{className:`w-6 h-px mx-1 ${n<g?"bg-emerald-500/40":"bg-[#222230]"}`})]},n)})})}function $e({text:g}){const[f,n]=o.useState(!1),j=()=>{navigator.clipboard.writeText(g),n(!0),setTimeout(()=>n(!1),2e3)};return e.jsx("button",{onClick:j,className:"p-1.5 rounded-lg hover:bg-[#222230] transition-colors text-[#52526B] hover:text-[#A1A1BC]",children:f?e.jsx(ie,{className:"w-3.5 h-3.5 text-emerald-400"}):e.jsx(Te,{className:"w-3.5 h-3.5"})})}function Ze(){const g=Ne(),[f]=we(),n=localStorage.getItem("ll_token"),j=localStorage.getItem("ll_client_id")||"",w=localStorage.getItem("ll_trade_type")||"hvac",C=()=>{if(f.get("success")==="true")return 5;const s=parseInt(localStorage.getItem("ll_onboarding_step")||"0",10);return Math.min(s,6)},[r,S]=o.useState(C),[E,k]=o.useState(!1),[$,u]=o.useState(""),[T,M]=o.useState(!1),[A,F]=o.useState(null),[B,z]=o.useState(!1),[b,O]=o.useState(""),[W,D]=o.useState(""),[I,le]=o.useState([]),[G,J]=o.useState(""),[H,ce]=o.useState(null),[U,V]=o.useState(!1),[Y,Z]=o.useState(!1),[q,de]=o.useState(!1),[me,he]=o.useState(!1),[a,v]=o.useState({business_hours_start:"08:00",business_hours_end:"18:00",work_saturday:!1,saturday_start:"09:00",saturday_end:"14:00",after_hours:"ai_responds_books_next_available",service_area_radius:"30",service_area_zips:"",primary_services:[],secondary_services:[],rep_name:"",tone:"friendly_professional",emergency_contact:"",crm_type:"google_sheets",crm_api_key:"",crm_tenant_id:""}),c=(s,t)=>{v(i=>({...i,[s]:t}))},xe=(s,t)=>{v(i=>{const p=i[s],x=p.includes(t)?p.filter(d=>d!==t):[...p,t];return{...i,[s]:x}})};o.useEffect(()=>{n&&fetch("/api/v1/dashboard/settings",{headers:{Authorization:`Bearer ${n}`}}).then(s=>s.ok?s.json():null).then(s=>{var y;if(!(s!=null&&s.config))return;const t=s.config,i=t.persona||{},p=((y=t.hours)==null?void 0:y.business)||{},x=t.services||{},d=t.service_area||{};v(l=>{var P,Q,X,ee;return{...l,rep_name:i.rep_name||l.rep_name,tone:i.tone||l.tone,emergency_contact:i.emergency_contact_phone||l.emergency_contact,business_hours_start:p.start||l.business_hours_start,business_hours_end:p.end||l.business_hours_end,work_saturday:(p.days||[]).includes("sat"),saturday_start:((Q=(P=t.hours)==null?void 0:P.saturday)==null?void 0:Q.start)||l.saturday_start,saturday_end:((ee=(X=t.hours)==null?void 0:X.saturday)==null?void 0:ee.end)||l.saturday_end,after_hours:p.after_hours_handling||l.after_hours,service_area_radius:String(d.radius_miles||l.service_area_radius),service_area_zips:(d.valid_zips||[]).join(", "),primary_services:x.primary||l.primary_services,secondary_services:x.secondary||l.secondary_services}}),s.crm_type&&s.crm_type!=="google_sheets"&&v(l=>({...l,crm_type:s.crm_type})),s.twilio_phone&&O(s.twilio_phone)}).catch(()=>{})},[n]),o.useEffect(()=>{const s=localStorage.getItem("ll_gmb_data");if(s)try{const t=JSON.parse(s);localStorage.removeItem("ll_gmb_data");const i=typeof t.phone=="string"&&/^\+?[\d\s\-().]{7,20}$/.test(t.phone.trim())?t.phone.trim():"",p=Array.isArray(t.suggested_services)?t.suggested_services.filter(d=>typeof d=="string").slice(0,20):[],x=typeof t.trade_type=="string"?t.trade_type:"";x&&x!=="other"&&localStorage.setItem("ll_trade_type",x),v(d=>({...d,service_area_radius:d.service_area_radius||"30",primary_services:d.primary_services.length>0?d.primary_services:p,emergency_contact:d.emergency_contact||i})),he(!0)}catch(t){localStorage.removeItem("ll_gmb_data"),console.warn("GMB pre-fill parse error:",t)}},[w]),o.useEffect(()=>{localStorage.setItem("ll_onboarding_step",String(r))},[r]),o.useEffect(()=>{r===4&&I.length===0&&fetch("/api/v1/billing/plans",{headers:{Authorization:`Bearer ${n}`}}).then(s=>s.ok?s.json():null).then(s=>{s!=null&&s.plans&&le(s.plans)}).catch(()=>{})},[r,I.length,n]),o.useEffect(()=>{r===6&&fetch("/api/v1/dashboard/readiness",{headers:{Authorization:`Bearer ${n}`}}).then(s=>s.ok?s.json():null).then(s=>{s&&ce(s)}).catch(()=>{})},[r,n]),o.useEffect(()=>{r===5&&!b&&!B&&K()},[r,b,B]);const ue=o.useCallback(async()=>{k(!0),u("");try{const s={persona:{rep_name:a.rep_name||"Sarah",tone:a.tone,emergency_contact_phone:a.emergency_contact||null},hours:{business:{start:a.business_hours_start,end:a.business_hours_end,days:a.work_saturday?["mon","tue","wed","thu","fri","sat"]:["mon","tue","wed","thu","fri"]},saturday:a.work_saturday?{start:a.saturday_start,end:a.saturday_end}:null,after_hours_handling:a.after_hours},services:{primary:a.primary_services,secondary:a.secondary_services},service_area:{radius_miles:parseInt(a.service_area_radius)||30,valid_zips:a.service_area_zips?a.service_area_zips.split(",").map(i=>i.trim()).filter(Boolean):[]}};if(!(await fetch("/api/v1/dashboard/settings",{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${n}`},body:JSON.stringify({config:s})})).ok)throw new Error("Failed to save configuration")}catch(s){throw u(s.message),s}finally{k(!1)}},[a,n]),pe=o.useCallback(async()=>{k(!0),u("");try{const t={crm_type:a.crm_type==="none"?"google_sheets":a.crm_type,...a.crm_api_key?{crm_api_key:a.crm_api_key}:{},...a.crm_tenant_id?{crm_tenant_id:a.crm_tenant_id}:{}};if(!(await fetch("/api/v1/dashboard/onboarding",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${n}`},body:JSON.stringify(t)})).ok)throw new Error("Failed to save CRM configuration")}catch(s){throw u(s.message),s}finally{k(!1)}},[a,n]),ge=async()=>{M(!0),F(null);try{const t=await(await fetch("/api/v1/integrations/test",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${n}`},body:JSON.stringify({crm_type:a.crm_type,api_key:a.crm_api_key,tenant_id:a.crm_tenant_id})})).json();F(t)}catch{F({connected:!1,message:"Connection test failed"})}finally{M(!1)}},be=async s=>{J(s),u("");try{const t=await fetch("/api/v1/billing/create-checkout",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${n}`},body:JSON.stringify({price_id:s,success_path:"/onboarding",cancel_path:"/onboarding"})}),i=await t.json();if(!t.ok)throw new Error(i.detail||"Checkout failed");window.location.href=i.url}catch(t){u(t.message)}finally{J("")}},K=async()=>{z(!0),D("");try{const t=(localStorage.getItem("ll_owner_phone")||"").replace(/\D/g,"").slice(1,4)||"512",i=await fetch(`/api/v1/settings/available-numbers?area_code=${t}`,{headers:{Authorization:`Bearer ${n}`}});if(!i.ok)throw new Error("No numbers available");const x=(await i.json()).numbers||[];if(x.length===0)throw new Error("No numbers available in your area code");const d=x[0].phone_number||x[0],y=await fetch("/api/v1/settings/provision-number",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${n}`},body:JSON.stringify({phone_number:d})});if(!y.ok){const P=await y.json().catch(()=>({}));throw new Error(P.detail||"Failed to provision number")}const l=await y.json();O(l.phone_number)}catch(s){D(s.message)}finally{z(!1)}},fe=async()=>{V(!0),u("");try{if(!(await fetch("/api/v1/dashboard/onboarding",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${n}`},body:JSON.stringify({go_live:!0})})).ok)throw new Error("Failed to activate account");localStorage.removeItem("ll_onboarding_step"),window.location.href="/dashboard"}catch(s){u(s.message)}finally{V(!1)}},ye=async()=>{Z(!0);try{if(!(localStorage.getItem("ll_owner_phone")||"")){u("No owner phone on file to send test SMS");return}await new Promise(t=>setTimeout(t,1500)),de(!0)}catch{u("Test SMS failed")}finally{Z(!1)}},_e=async()=>{u("");try{r<=2&&await ue(),r===3&&await pe(),S(s=>s+1)}catch{}},je=()=>r===0?!0:r===1?a.primary_services.length>0:r===2?a.rep_name.trim().length>0:r===3?!0:r===4?!1:r===5?!!b:!0,ve=`${window.location.origin}/api/v1/webhook`,m="w-full px-4 py-3 rounded-xl text-sm text-[#F8F8FC] bg-[#1A1A24] border border-[#222230] outline-none transition-all placeholder:text-[#52526B] focus:border-orange-500 focus:ring-2 focus:ring-orange-500/20",h="block text-xs font-semibold uppercase tracking-wider mb-2 text-[#52526B]";return e.jsxs("div",{className:"landing-dark min-h-screen flex items-center justify-center p-4 relative overflow-hidden",children:[e.jsx("div",{className:"absolute top-[-20%] right-[-10%] w-[600px] h-[600px] rounded-full bg-orange-500/[0.04] blur-3xl"}),e.jsx("div",{className:"absolute bottom-[-15%] left-[-10%] w-[500px] h-[500px] rounded-full bg-orange-500/[0.03] blur-3xl"}),e.jsxs("div",{className:"w-full max-w-[640px] relative z-10",children:[e.jsxs("div",{className:"flex items-center justify-center gap-3 mb-6",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl flex items-center justify-center bg-gradient-to-br from-orange-500 to-orange-600 shadow-lg shadow-orange-500/25",children:e.jsx(Ce,{className:"w-5 h-5 text-white",strokeWidth:2.5})}),e.jsxs("span",{className:"text-2xl font-bold tracking-tight text-[#F8F8FC]",children:["Lead",e.jsx("span",{className:"text-orange-500",children:"Lock"})]})]}),e.jsx(Ee,{currentStep:r}),me&&e.jsxs("div",{className:"mb-4 px-4 py-3 rounded-xl flex items-center gap-2.5 text-sm bg-emerald-500/10 border border-emerald-500/20 text-emerald-400",children:[e.jsx(N,{className:"w-4 h-4 flex-shrink-0"}),"Pre-filled from your Google Business Profile"]}),$&&e.jsxs("div",{className:"mb-4 px-4 py-3 rounded-xl flex items-center gap-2.5 text-sm bg-red-500/10 border border-red-500/20 text-red-400",children:[e.jsx(R,{className:"w-4 h-4 flex-shrink-0"}),$]}),e.jsxs("div",{className:"ld-card p-8",children:[r===0&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"text-center mb-2",children:[e.jsx("h2",{className:"text-xl font-bold text-[#F8F8FC] mb-1",children:"Business hours & service area"}),e.jsx("p",{className:"text-sm text-[#52526B]",children:"When should your AI agent respond to leads?"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"ob-hours-open",className:h,children:"Open"}),e.jsx("input",{id:"ob-hours-open",type:"time",value:a.business_hours_start,onChange:s=>c("business_hours_start",s.target.value),className:m})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"ob-hours-close",className:h,children:"Close"}),e.jsx("input",{id:"ob-hours-close",type:"time",value:a.business_hours_end,onChange:s=>c("business_hours_end",s.target.value),className:m})]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:a.work_saturday,onChange:s=>c("work_saturday",s.target.checked),className:"w-4 h-4 rounded border-[#222230] bg-[#1A1A24] text-orange-500 focus:ring-orange-500/20"}),e.jsx("span",{className:"text-sm text-[#A1A1BC]",children:"We work Saturdays"})]}),a.work_saturday&&e.jsxs("div",{className:"grid grid-cols-2 gap-4 mt-3 ml-7",children:[e.jsx("input",{type:"time",value:a.saturday_start,onChange:s=>c("saturday_start",s.target.value),className:m}),e.jsx("input",{type:"time",value:a.saturday_end,onChange:s=>c("saturday_end",s.target.value),className:m})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"ob-after-hours",className:h,children:"After-hours handling"}),e.jsxs("select",{id:"ob-after-hours",value:a.after_hours,onChange:s=>c("after_hours",s.target.value),className:`${m} appearance-none`,children:[e.jsx("option",{value:"ai_responds_books_next_available",children:"AI responds & books next available slot"}),e.jsx("option",{value:"ai_responds_owner_notified",children:"AI responds & notifies you"}),e.jsx("option",{value:"do_not_respond",children:"Don't respond after hours"})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"ob-radius",className:h,children:"Service radius (miles)"}),e.jsx("input",{id:"ob-radius",type:"number",value:a.service_area_radius,onChange:s=>c("service_area_radius",s.target.value),className:m,placeholder:"30"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"ob-zips",className:h,children:"Zip codes (optional, comma-separated)"}),e.jsx("input",{id:"ob-zips",type:"text",value:a.service_area_zips,onChange:s=>c("service_area_zips",s.target.value),className:m,placeholder:"10001, 10002, 10003"})]})]}),r===1&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"text-center mb-2",children:[e.jsx("h2",{className:"text-xl font-bold text-[#F8F8FC] mb-1",children:"What services do you offer?"}),e.jsx("p",{className:"text-sm text-[#52526B]",children:"Select your primary services so the AI knows what to qualify for."})]}),e.jsxs("div",{children:[e.jsx("label",{className:h,children:"Primary services"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:(ae[w]||ae.other).map(s=>{const t=a.primary_services.includes(s);return e.jsx("button",{onClick:()=>xe("primary_services",s),className:`px-3 py-1.5 rounded-lg text-sm font-medium transition-all cursor-pointer ${t?"bg-orange-500/15 text-orange-400 border border-orange-500/30":"bg-[#1A1A24] text-[#A1A1BC] border border-[#222230] hover:border-[#333340]"}`,children:s},s)})})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"ob-secondary-services",className:h,children:"Secondary services (optional)"}),e.jsx("input",{id:"ob-secondary-services",type:"text",value:a.secondary_services.join(", "),onChange:s=>c("secondary_services",s.target.value.split(",").map(t=>t.trim()).filter(Boolean)),className:m,placeholder:"Type additional services, comma-separated"})]})]}),r===2&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"text-center mb-2",children:[e.jsx("h2",{className:"text-xl font-bold text-[#F8F8FC] mb-1",children:"Set up your AI agent"}),e.jsx("p",{className:"text-sm text-[#52526B]",children:"This is who your customers will be texting with."})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"ob-agent-name",className:h,children:"Agent name"}),e.jsx("input",{id:"ob-agent-name",type:"text",value:a.rep_name,onChange:s=>c("rep_name",s.target.value),className:m,placeholder:"e.g. Sarah, Mike, Alex"}),e.jsxs("p",{className:"text-xs text-[#52526B] mt-1.5",children:['This name appears in SMS: "Hi! This is ',a.rep_name||"Sarah"," from ",localStorage.getItem("ll_business")||"your company",'."']})]}),e.jsxs("div",{children:[e.jsx("label",{className:h,children:"Conversation tone"}),e.jsx("div",{className:"space-y-2",children:Le.map(s=>e.jsxs("label",{className:`flex items-start gap-3 p-3 rounded-xl border cursor-pointer transition-all ${a.tone===s.id?"border-orange-500/30 bg-orange-500/5":"border-[#222230] hover:border-[#333340]"}`,children:[e.jsx("input",{type:"radio",name:"tone",value:s.id,checked:a.tone===s.id,onChange:t=>c("tone",t.target.value),className:"mt-0.5 text-orange-500 focus:ring-orange-500/20"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-[#F8F8FC]",children:s.label}),e.jsx("p",{className:"text-xs text-[#52526B]",children:s.desc})]})]},s.id))})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"ob-emergency",className:h,children:"Emergency contact phone"}),e.jsx("input",{id:"ob-emergency",type:"tel",value:a.emergency_contact,onChange:s=>c("emergency_contact",s.target.value),className:m,placeholder:"(555) 123-4567"}),e.jsx("p",{className:"text-xs text-[#52526B] mt-1.5",children:"We'll route urgent leads here (gas leaks, flooding, no heat, etc.)"})]})]}),r===3&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"text-center mb-2",children:[e.jsx("h2",{className:"text-xl font-bold text-[#F8F8FC] mb-1",children:"Connect your CRM"}),e.jsx("p",{className:"text-sm text-[#52526B]",children:"We'll book appointments directly into your system."})]}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:Re.map(s=>e.jsxs("button",{onClick:()=>{c("crm_type",s.id),F(null)},className:`p-4 rounded-xl border text-left transition-all cursor-pointer ${a.crm_type===s.id?"border-orange-500/30 bg-orange-500/5":"border-[#222230] hover:border-[#333340]"}`,children:[e.jsx("p",{className:"text-sm font-semibold text-[#F8F8FC]",children:s.name}),e.jsx("p",{className:"text-xs text-[#52526B] mt-0.5",children:s.desc})]},s.id))}),a.crm_type&&a.crm_type!=="google_sheets"&&e.jsxs("div",{className:"space-y-4 pt-2",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"ob-crm-key",className:h,children:"API Key / Access Token"}),e.jsx("input",{id:"ob-crm-key",type:"password",value:a.crm_api_key,onChange:s=>c("crm_api_key",s.target.value),className:m,placeholder:"Paste your API key"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"ob-crm-tenant",className:h,children:"Tenant / Account ID"}),e.jsx("input",{id:"ob-crm-tenant",type:"text",value:a.crm_tenant_id,onChange:s=>c("crm_tenant_id",s.target.value),className:m,placeholder:"Your account ID"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("button",{onClick:ge,disabled:T||!a.crm_api_key,className:"px-4 py-2 rounded-xl text-sm font-semibold bg-[#1A1A24] border border-[#222230] text-[#A1A1BC] hover:border-orange-500/30 hover:text-orange-400 transition-all cursor-pointer disabled:opacity-40 disabled:cursor-not-allowed flex items-center gap-2",children:[T?e.jsx(_,{className:"w-4 h-4 animate-spin"}):e.jsx(oe,{className:"w-4 h-4"}),T?"Testing...":"Test Connection"]}),A&&e.jsx("span",{className:`text-sm font-medium ${A.connected?"text-emerald-400":"text-red-400"}`,children:A.connected?e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(N,{className:"w-4 h-4"})," Connected"]}):e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(R,{className:"w-4 h-4"})," ",A.message]})})]})]})]}),r===4&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"text-center mb-2",children:[e.jsx("h2",{className:"text-xl font-bold text-[#F8F8FC] mb-1",children:"Choose your plan"}),e.jsx("p",{className:"text-sm text-[#52526B]",children:"Select a plan to activate your account and get a dedicated phone number."})]}),e.jsxs("div",{className:"p-4 rounded-xl bg-emerald-500/5 border border-emerald-500/20 text-center",children:[e.jsx("p",{className:"text-sm font-medium text-emerald-400",children:"14-day free trial on every plan"}),e.jsx("p",{className:"text-xs text-[#A1A1BC] mt-1",children:"Your card won't be charged for 14 days. Cancel anytime."})]}),e.jsx("div",{className:"space-y-4",children:I.map(s=>e.jsxs("div",{className:`p-5 rounded-xl border transition-all ${s.popular?"border-orange-500/30 bg-orange-500/[0.03]":"border-[#222230]"}`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("h3",{className:"text-base font-bold text-[#F8F8FC]",children:s.name}),s.popular&&e.jsx("span",{className:"px-2 py-0.5 rounded-full bg-orange-500/15 text-[10px] font-bold uppercase tracking-wide text-orange-400",children:"Most Popular"})]}),s.subtitle&&e.jsx("p",{className:"text-xs text-[#52526B] mt-0.5",children:s.subtitle})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("span",{className:"text-2xl font-black text-[#F8F8FC]",children:s.price}),e.jsx("span",{className:"text-xs text-[#52526B]",children:"/mo"})]})]}),e.jsxs("div",{className:"flex flex-wrap gap-1.5 mb-4",children:[(s.features||[]).slice(0,4).map((t,i)=>e.jsx("span",{className:"px-2 py-0.5 rounded-md bg-[#1A1A24] text-[11px] text-[#A1A1BC]",children:t},i)),(s.features||[]).length>4&&e.jsxs("span",{className:"px-2 py-0.5 rounded-md bg-[#1A1A24] text-[11px] text-[#52526B]",children:["+",s.features.length-4," more"]})]}),e.jsx("button",{onClick:()=>be(s.price_id),disabled:!!G,className:`w-full py-2.5 rounded-xl text-sm font-semibold transition-all cursor-pointer disabled:opacity-50 ${s.popular?"bg-orange-500 hover:bg-orange-600 text-white":"bg-[#1A1A24] border border-[#222230] text-[#A1A1BC] hover:border-orange-500/30 hover:text-orange-400"}`,children:G===s.price_id?e.jsxs("span",{className:"flex items-center justify-center gap-2",children:[e.jsx(_,{className:"w-4 h-4 animate-spin"})," Redirecting to Stripe..."]}):e.jsxs("span",{className:"flex items-center justify-center gap-2",children:["Start 14-Day Free Trial ",e.jsx(Be,{className:"w-3.5 h-3.5"})]})})]},s.slug))})]}),r===5&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"text-center mb-2",children:[e.jsx("h2",{className:"text-xl font-bold text-[#F8F8FC] mb-1",children:"Your dedicated phone number"}),e.jsx("p",{className:"text-sm text-[#52526B]",children:"We're setting up your SMS line so leads can reach you."})]}),B&&e.jsxs("div",{className:"flex flex-col items-center gap-3 py-8",children:[e.jsx(_,{className:"w-8 h-8 text-orange-400 animate-spin"}),e.jsx("p",{className:"text-sm text-[#A1A1BC]",children:"Provisioning your phone number..."})]}),b&&e.jsxs("div",{className:"p-6 rounded-xl bg-emerald-500/5 border border-emerald-500/20 text-center",children:[e.jsx(N,{className:"w-10 h-10 text-emerald-400 mx-auto mb-3"}),e.jsx("p",{className:"text-sm font-medium text-[#A1A1BC] mb-1",children:"Your number is ready!"}),e.jsx("p",{className:"text-2xl font-bold text-[#F8F8FC] tracking-tight",children:b})]}),W&&!b&&e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"p-4 rounded-xl bg-red-500/5 border border-red-500/20",children:e.jsx("p",{className:"text-sm text-red-400",children:W})}),e.jsx("button",{onClick:K,disabled:B,className:"w-full py-2.5 rounded-xl text-sm font-semibold bg-[#1A1A24] border border-[#222230] text-[#A1A1BC] hover:border-orange-500/30 hover:text-orange-400 transition-all cursor-pointer disabled:opacity-50",children:"Try Again"})]})]}),r===6&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"text-center mb-2",children:[e.jsx("h2",{className:"text-xl font-bold text-[#F8F8FC] mb-1",children:"Ready to go live!"}),e.jsx("p",{className:"text-sm text-[#52526B]",children:"Review your setup and start receiving leads."})]}),e.jsx("div",{className:"space-y-3",children:H&&Object.entries(H.checks||{}).map(([s,t])=>{const i={phone_provisioned:"Phone number provisioned",billing_active:"Billing active",services_configured:"Services configured",persona_set:"AI persona set up",crm_connected:"CRM connected"};return e.jsxs("div",{className:`flex items-center gap-3 p-3 rounded-xl border ${t?"border-emerald-500/20 bg-emerald-500/5":"border-[#222230]"}`,children:[t?e.jsx(N,{className:"w-5 h-5 text-emerald-400"}):e.jsx(R,{className:"w-5 h-5 text-[#52526B]"}),e.jsx("span",{className:`text-sm ${t?"text-emerald-400":"text-[#52526B]"}`,children:i[s]||s})]},s)})}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("h3",{className:"text-xs font-semibold uppercase tracking-wider text-[#52526B]",children:"Webhook URLs"}),[{label:"Website Form",path:"form"},{label:"Google LSA",path:"google-lsa"},{label:"Facebook",path:"facebook"},{label:"Angi",path:"angi"},{label:"Missed Calls",path:"missed-call"}].map(s=>{const t=`${ve}/${s.path}/${j}`;return e.jsxs("div",{className:"flex items-center gap-2 p-2 rounded-lg bg-[#111118]",children:[e.jsx("span",{className:"text-xs font-medium text-[#A1A1BC] w-24 flex-shrink-0",children:s.label}),e.jsx("code",{className:"text-[11px] text-orange-400/80 truncate flex-1",children:t}),e.jsx($e,{text:t})]},s.path)})]}),e.jsx("button",{onClick:ye,disabled:Y||q,className:"w-full py-2.5 rounded-xl text-sm font-semibold bg-[#1A1A24] border border-[#222230] text-[#A1A1BC] hover:border-orange-500/30 hover:text-orange-400 transition-all cursor-pointer disabled:opacity-50 flex items-center justify-center gap-2",children:q?e.jsxs(e.Fragment,{children:[e.jsx(ie,{className:"w-4 h-4 text-emerald-400"})," Test SMS Sent"]}):Y?e.jsxs(e.Fragment,{children:[e.jsx(_,{className:"w-4 h-4 animate-spin"})," Sending..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Se,{className:"w-4 h-4"})," Send Test SMS"]})}),e.jsx("button",{onClick:fe,disabled:U,className:"w-full py-3.5 rounded-xl text-base font-bold ld-btn-primary flex items-center justify-center gap-2 disabled:opacity-50",children:U?e.jsxs(e.Fragment,{children:[e.jsx(_,{className:"w-5 h-5 animate-spin"})," Activating..."]}):e.jsxs(e.Fragment,{children:[e.jsx(ne,{className:"w-5 h-5"})," Go Live"]})})]}),r!==4&&r!==6&&e.jsxs("div",{className:"flex items-center justify-between mt-8 pt-6 border-t border-[#222230]",children:[r>0?e.jsxs("button",{onClick:()=>S(s=>s-1),className:"flex items-center gap-2 text-sm text-[#A1A1BC] hover:text-[#F8F8FC] transition-colors cursor-pointer",children:[e.jsx(se,{className:"w-4 h-4"})," Back"]}):e.jsx("div",{}),r<L.length-1&&e.jsx("button",{onClick:_e,disabled:!je()||E,className:"ld-btn-primary px-6 py-2.5 text-sm flex items-center gap-2 disabled:opacity-40 disabled:cursor-not-allowed",children:E?e.jsxs(e.Fragment,{children:[e.jsx(_,{className:"w-4 h-4 animate-spin"})," Saving..."]}):e.jsxs(e.Fragment,{children:["Continue ",e.jsx(te,{className:"w-4 h-4"})]})})]}),r===5&&e.jsxs("div",{className:"flex items-center justify-between mt-8 pt-6 border-t border-[#222230]",children:[e.jsxs("button",{onClick:()=>S(s=>s-1),className:"flex items-center gap-2 text-sm text-[#A1A1BC] hover:text-[#F8F8FC] transition-colors cursor-pointer",children:[e.jsx(se,{className:"w-4 h-4"})," Back"]}),e.jsxs("button",{onClick:()=>S(s=>s+1),disabled:!b,className:"ld-btn-primary px-6 py-2.5 text-sm flex items-center gap-2 disabled:opacity-40 disabled:cursor-not-allowed",children:["Continue ",e.jsx(te,{className:"w-4 h-4"})]})]})]}),r<4&&e.jsx("button",{onClick:()=>g("/dashboard"),className:"block mx-auto mt-6 text-xs text-[#52526B] hover:text-[#A1A1BC] transition-colors cursor-pointer",children:"Skip for now - I'll set this up later"})]})]})}export{Ze as default};
