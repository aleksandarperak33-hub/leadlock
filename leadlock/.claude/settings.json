{
  "$schema": "https://json.schemastore.org/claude-code-settings.json",
  "hooks": {
    "PreToolUse": [
      {
        "matcher": "Bash",
        "hooks": [
          {
            "type": "command",
            "command": "node -e \"let d='';process.stdin.on('data',c=>d+=c);process.stdin.on('end',()=>{try{const i=JSON.parse(d);const cmd=i.tool_input?.command||'';if(/git push/.test(cmd)){console.error('[Hook] Review changes before push...')}}catch{}console.log(d)})\""
          }
        ],
        "description": "Reminder before git push to review changes"
      },
      {
        "matcher": "Bash",
        "hooks": [
          {
            "type": "command",
            "command": "node -e \"let d='';process.stdin.on('data',c=>d+=c);process.stdin.on('end',()=>{try{const i=JSON.parse(d);const cmd=i.tool_input?.command||'';if(/(uvicorn|gunicorn|npm run dev|python -m)/.test(cmd)&&!/(tmux|nohup|&$)/.test(cmd)){console.error('[Hook] Consider running long-lived servers in tmux or background')}}catch{}console.log(d)})\""
          }
        ],
        "description": "Reminder for long-running server commands"
      }
    ],
    "PostToolUse": [
      {
        "matcher": "Bash",
        "hooks": [
          {
            "type": "command",
            "command": "node -e \"let d='';process.stdin.on('data',c=>d+=c);process.stdin.on('end',()=>{try{const i=JSON.parse(d);const cmd=i.tool_input?.command||'';if(/gh pr create/.test(cmd)){const out=i.tool_output?.output||'';const m=out.match(/https:\\/\\/github.com\\/[^/]+\\/[^/]+\\/pull\\/\\d+/);if(m){console.error('[Hook] PR created: '+m[0])}}}catch{}console.log(d)})\""
          }
        ],
        "description": "Log PR URL after creation"
      },
      {
        "matcher": "Edit",
        "hooks": [
          {
            "type": "command",
            "command": "node -e \"let d='';process.stdin.on('data',c=>d+=c);process.stdin.on('end',()=>{try{const i=JSON.parse(d);const p=i.tool_input?.file_path||'';if(/\\.py$/.test(p)){console.error('[Hook] Python file edited: '+p);console.error('[Hook] Consider running: black '+p+' && ruff check '+p)}}catch{}console.log(d)})\""
          }
        ],
        "description": "Suggest formatting after Python file edits"
      },
      {
        "matcher": "Edit",
        "hooks": [
          {
            "type": "command",
            "command": "node -e \"let d='';process.stdin.on('data',c=>d+=c);process.stdin.on('end',()=>{try{const i=JSON.parse(d);const p=i.tool_input?.file_path||'';const s=i.tool_input?.new_string||'';if(/\\.py$/.test(p)&&/\\bprint\\s*\\(/.test(s)&&!/logging/.test(s)){console.error('[Hook] WARNING: print() detected in '+p);console.error('[Hook] Use logging module instead of print()')}}catch{}console.log(d)})\""
          }
        ],
        "description": "Warn about print() statements in Python files"
      }
    ]
  }
}
